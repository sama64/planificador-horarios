/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/solve/route";
exports.ids = ["app/api/solve/route"];
exports.modules = {

/***/ "(rsc)/../src/lib/algorithm/entrypoint.js":
/*!******************************************!*\
  !*** ../src/lib/algorithm/entrypoint.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   solveScheduleWithConstraints: () => (/* binding */ solveScheduleWithConstraints)\n/* harmony export */ });\n/* harmony import */ var _solvers_mipMinPeriods_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./solvers/mipMinPeriods.js */ \"(rsc)/../src/lib/algorithm/solvers/mipMinPeriods.js\");\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./model.js */ \"(rsc)/../src/lib/algorithm/model.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/../src/lib/algorithm/validate.js\");\n\n\n\nfunction canonicalizeDay(day) {\n    if (typeof day !== 'string') {\n        return '';\n    }\n    return day.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').trim().toLowerCase();\n}\nconst SATURDAY_ALIASES = new Set([\n    'sabado',\n    'saturday'\n]);\nfunction isSaturday(day) {\n    return SATURDAY_ALIASES.has(canonicalizeDay(day));\n}\nfunction normalizeStringArray(values) {\n    if (!Array.isArray(values)) {\n        return [];\n    }\n    return values.filter((value)=>typeof value === 'string' && value.trim() !== '');\n}\nfunction buildDayConstraintSet(constraints) {\n    const daySet = new Set();\n    for (const day of normalizeStringArray(constraints.forbiddenDays)){\n        daySet.add(canonicalizeDay(day));\n    }\n    for (const day of normalizeStringArray(constraints.keepFreeDays)){\n        daySet.add(canonicalizeDay(day));\n    }\n    if (constraints.avoidSaturdays && constraints.avoidSaturdaysMode === 'hard') {\n        daySet.add('sabado');\n        daySet.add('saturday');\n    }\n    return daySet;\n}\nfunction normalizeTimePreference(value) {\n    if (typeof value !== 'string') {\n        return null;\n    }\n    const normalized = value.trim().toLowerCase();\n    if (normalized === 'morning' || normalized === 'afternoon' || normalized === 'evening' || normalized === 'night') {\n        return normalized;\n    }\n    if (normalized === 'afternoon_or_night' || normalized === 'afternoon-night') {\n        return 'afternoon_or_night';\n    }\n    return null;\n}\nfunction isBlockInPreferenceWindow(block, preference) {\n    if (preference === 'morning') {\n        return block.start < 12 * 60;\n    }\n    if (preference === 'afternoon') {\n        return block.start >= 12 * 60 && block.start < 18 * 60;\n    }\n    if (preference === 'evening') {\n        return block.start >= 18 * 60;\n    }\n    if (preference === 'night') {\n        return block.start >= 20 * 60;\n    }\n    if (preference === 'afternoon_or_night') {\n        return block.start >= 12 * 60;\n    }\n    return true;\n}\nfunction optionMatchesTimePreference(option, preference) {\n    return option.blocks.every((block)=>isBlockInPreferenceWindow(block, preference));\n}\nfunction optionTimePreferencePenalty(option, preference, mismatchWeight) {\n    if (!preference) {\n        return 0;\n    }\n    let mismatches = 0;\n    for (const block of option.blocks){\n        if (!isBlockInPreferenceWindow(block, preference)) {\n            mismatches += 1;\n        }\n    }\n    return mismatches * mismatchWeight;\n}\nfunction optionHasForbiddenDay(option, forbiddenDaysSet) {\n    if (forbiddenDaysSet.size === 0) {\n        return false;\n    }\n    return option.blocks.some((block)=>forbiddenDaysSet.has(canonicalizeDay(block.day)));\n}\nfunction optionHasSaturday(option) {\n    return option.blocks.some((block)=>isSaturday(block.day));\n}\nfunction optionWeeklyMinutes(option) {\n    return option.blocks.reduce((total, block)=>total + (block.end - block.start), 0);\n}\nfunction normalizeConstraints(userConstraints = {}) {\n    const penaltyWeights = userConstraints.penaltyWeights && typeof userConstraints.penaltyWeights === 'object' ? userConstraints.penaltyWeights : {};\n    return {\n        passedClassIds: Array.isArray(userConstraints.passedClassIds) ? userConstraints.passedClassIds.filter((id)=>Number.isInteger(id)) : [],\n        forbiddenDays: normalizeStringArray(userConstraints.forbiddenDays),\n        keepFreeDays: normalizeStringArray(userConstraints.keepFreeDays),\n        avoidSaturdays: Boolean(userConstraints.avoidSaturdays),\n        avoidSaturdaysMode: userConstraints.avoidSaturdaysMode === 'hard' ? 'hard' : 'soft',\n        timePreference: normalizeTimePreference(userConstraints.timePreference),\n        timePreferenceMode: userConstraints.timePreferenceMode === 'hard' ? 'hard' : 'soft',\n        maxWeeklyHoursPerPeriod: Number.isFinite(userConstraints.maxWeeklyHoursPerPeriod) ? Number(userConstraints.maxWeeklyHoursPerPeriod) : null,\n        maxClassesPerPeriod: Number.isFinite(userConstraints.maxClassesPerPeriod) ? Number(userConstraints.maxClassesPerPeriod) : null,\n        penaltyWeights: {\n            timePreference: Number.isFinite(penaltyWeights.timePreference) ? Number(penaltyWeights.timePreference) : 5,\n            saturday: Number.isFinite(penaltyWeights.saturday) ? Number(penaltyWeights.saturday) : 3\n        }\n    };\n}\nfunction preprocessCurriculum(rawClasses, constraints) {\n    const passedSet = new Set(constraints.passedClassIds);\n    const activeClasses = rawClasses.filter((cls)=>!passedSet.has(cls.id)).map((cls)=>({\n            ...cls,\n            prerequisites: Array.isArray(cls.prerequisites) ? cls.prerequisites.filter((prereqId)=>!passedSet.has(prereqId)) : [],\n            scheduleOptions: (cls.scheduleOptions || []).map((option, optionIndex)=>({\n                    ...option,\n                    sourceOptionIndex: option.sourceOptionIndex ?? optionIndex\n                }))\n        }));\n    return {\n        activeClasses,\n        passedClassIds: [\n            ...passedSet\n        ]\n    };\n}\nfunction buildConstrainedDataset(rawClasses, constraints) {\n    const forbiddenDaysSet = buildDayConstraintSet(constraints);\n    const timePreference = constraints.timePreference;\n    const classes = [];\n    const optionPenaltyByClass = [];\n    const optionWeeklyMinutesByClass = [];\n    const filteredOutByClass = [];\n    for (const cls of rawClasses){\n        const allowedOptions = [];\n        const penalties = [];\n        const weeklyMinutes = [];\n        for (const option of cls.scheduleOptions || []){\n            if (optionHasForbiddenDay(option, forbiddenDaysSet)) {\n                continue;\n            }\n            if (constraints.timePreferenceMode === 'hard' && timePreference && !optionMatchesTimePreference(option, timePreference)) {\n                continue;\n            }\n            if (constraints.avoidSaturdays && constraints.avoidSaturdaysMode === 'hard' && optionHasSaturday(option)) {\n                continue;\n            }\n            let penalty = 0;\n            if (constraints.timePreferenceMode === 'soft' && timePreference) {\n                penalty += optionTimePreferencePenalty(option, timePreference, constraints.penaltyWeights.timePreference);\n            }\n            if (constraints.avoidSaturdays && constraints.avoidSaturdaysMode === 'soft' && optionHasSaturday(option)) {\n                penalty += constraints.penaltyWeights.saturday;\n            }\n            allowedOptions.push(option);\n            penalties.push(penalty);\n            weeklyMinutes.push(optionWeeklyMinutes(option));\n        }\n        if (allowedOptions.length === 0) {\n            filteredOutByClass.push({\n                classId: cls.id,\n                className: cls.name\n            });\n            continue;\n        }\n        classes.push({\n            ...cls,\n            scheduleOptions: allowedOptions\n        });\n        optionPenaltyByClass.push(penalties);\n        optionWeeklyMinutesByClass.push(weeklyMinutes);\n    }\n    return {\n        classes,\n        optionPenaltyByClass,\n        optionWeeklyMinutesByClass,\n        filteredOutByClass,\n        forbiddenDays: [\n            ...forbiddenDaysSet\n        ]\n    };\n}\nfunction buildScheduleByPeriod(assignments) {\n    const byPeriod = {};\n    for (const [classId, assignment] of Object.entries(assignments)){\n        const period = assignment.period;\n        if (!byPeriod[period]) {\n            byPeriod[period] = [];\n        }\n        byPeriod[period].push({\n            classId: Number(classId),\n            ...assignment\n        });\n    }\n    for (const period of Object.keys(byPeriod)){\n        byPeriod[period].sort((a, b)=>a.classId - b.classId);\n    }\n    return byPeriod;\n}\nfunction solveScheduleWithConstraints(rawClasses, userConstraints = {}, solverOptions = {}) {\n    const constraints = normalizeConstraints(userConstraints);\n    const preprocessed = preprocessCurriculum(rawClasses, constraints);\n    const normalizedActiveClasses = (0,_model_js__WEBPACK_IMPORTED_MODULE_1__.normalizeClasses)(preprocessed.activeClasses);\n    if (normalizedActiveClasses.length === 0) {\n        return {\n            success: true,\n            assignments: {},\n            scheduleByPeriod: {},\n            totalPeriods: 0,\n            meta: {\n                solver: 'scheduleEntrypoint',\n                optimality: 'optimal_proven',\n                passedClassIds: preprocessed.passedClassIds,\n                appliedConstraints: constraints\n            }\n        };\n    }\n    const constrained = buildConstrainedDataset(normalizedActiveClasses, constraints);\n    if (constrained.classes.length !== preprocessed.activeClasses.length) {\n        return {\n            success: false,\n            error: 'Some classes have no valid schedule options under current hard constraints.',\n            meta: {\n                solver: 'scheduleEntrypoint',\n                unschedulableClasses: constrained.filteredOutByClass,\n                passedClassIds: preprocessed.passedClassIds,\n                appliedConstraints: constraints\n            }\n        };\n    }\n    const solverResult = (0,_solvers_mipMinPeriods_js__WEBPACK_IMPORTED_MODULE_0__.solveWithMipMinPeriods)(constrained.classes, {\n        timeoutMs: Number.isFinite(solverOptions.timeoutMs) ? Number(solverOptions.timeoutMs) : 4900,\n        maxClassesPerPeriod: constraints.maxClassesPerPeriod ?? Number.POSITIVE_INFINITY,\n        maxWeeklyMinutesPerPeriod: constraints.maxWeeklyHoursPerPeriod === null ? Number.POSITIVE_INFINITY : Math.max(0, Math.round(constraints.maxWeeklyHoursPerPeriod * 60)),\n        optionPenaltyByClass: constrained.optionPenaltyByClass,\n        optionWeeklyMinutesByClass: constrained.optionWeeklyMinutesByClass,\n        greedyPeriodSearchTimeLimitMs: Number.isFinite(solverOptions.greedyPeriodSearchTimeLimitMs) ? Number(solverOptions.greedyPeriodSearchTimeLimitMs) : 80\n    });\n    if (!solverResult.success) {\n        return solverResult;\n    }\n    const remappedAssignments = {};\n    for(let classIndex = 0; classIndex < constrained.classes.length; classIndex += 1){\n        const cls = constrained.classes[classIndex];\n        const assignment = solverResult.assignments[cls.id];\n        if (!assignment) {\n            continue;\n        }\n        const selectedOption = cls.scheduleOptions[assignment.optionIndex];\n        remappedAssignments[cls.id] = {\n            period: assignment.period,\n            optionIndex: selectedOption?.sourceOptionIndex ?? assignment.optionIndex,\n            filteredOptionIndex: assignment.optionIndex\n        };\n    }\n    const validation = (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validatePlan)(preprocessed.activeClasses, {\n        assignments: remappedAssignments,\n        totalPeriods: solverResult.totalPeriods\n    });\n    if (!validation.valid) {\n        return {\n            success: false,\n            error: 'Internal validation failed after applying constraints.',\n            meta: {\n                solver: 'scheduleEntrypoint',\n                validationViolations: validation.violations\n            }\n        };\n    }\n    return {\n        success: true,\n        assignments: remappedAssignments,\n        scheduleByPeriod: buildScheduleByPeriod(remappedAssignments),\n        totalPeriods: solverResult.totalPeriods,\n        meta: {\n            ...solverResult.meta,\n            solver: 'scheduleEntrypoint',\n            delegatedSolver: 'mipMinPeriods',\n            passedClassIds: preprocessed.passedClassIds,\n            appliedConstraints: constraints,\n            forbiddenDaysCanonical: constrained.forbiddenDays\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGdCQUFnQmlELGFBQWFqRCxjQUFjO1lBQzNDeUQsb0JBQW9CekY7WUFDcEI4Ryx3QkFBd0JwQixZQUFZeEYsYUFBYTtRQUNuRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3NhbS9kZXYvZmFjdS9zY2hlZHVsZS9wbGFuaWZpY2Fkb3ItaG9yYXJpb3Mvc3JjL2xpYi9hbGdvcml0aG0vZW50cnlwb2ludC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzb2x2ZVdpdGhNaXBNaW5QZXJpb2RzIH0gZnJvbSAnLi9zb2x2ZXJzL21pcE1pblBlcmlvZHMuanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplQ2xhc3NlcyB9IGZyb20gJy4vbW9kZWwuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVQbGFuIH0gZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIGNhbm9uaWNhbGl6ZURheShkYXkpIHtcbiAgaWYgKHR5cGVvZiBkYXkgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIGRheVxuICAgIC5ub3JtYWxpemUoJ05GRCcpXG4gICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgIC50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKTtcbn1cblxuY29uc3QgU0FUVVJEQVlfQUxJQVNFUyA9IG5ldyBTZXQoWydzYWJhZG8nLCAnc2F0dXJkYXknXSk7XG5cbmZ1bmN0aW9uIGlzU2F0dXJkYXkoZGF5KSB7XG4gIHJldHVybiBTQVRVUkRBWV9BTElBU0VTLmhhcyhjYW5vbmljYWxpemVEYXkoZGF5KSk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ0FycmF5KHZhbHVlcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS50cmltKCkgIT09ICcnKTtcbn1cblxuZnVuY3Rpb24gYnVpbGREYXlDb25zdHJhaW50U2V0KGNvbnN0cmFpbnRzKSB7XG4gIGNvbnN0IGRheVNldCA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGNvbnN0IGRheSBvZiBub3JtYWxpemVTdHJpbmdBcnJheShjb25zdHJhaW50cy5mb3JiaWRkZW5EYXlzKSkge1xuICAgIGRheVNldC5hZGQoY2Fub25pY2FsaXplRGF5KGRheSkpO1xuICB9XG5cbiAgZm9yIChjb25zdCBkYXkgb2Ygbm9ybWFsaXplU3RyaW5nQXJyYXkoY29uc3RyYWludHMua2VlcEZyZWVEYXlzKSkge1xuICAgIGRheVNldC5hZGQoY2Fub25pY2FsaXplRGF5KGRheSkpO1xuICB9XG5cbiAgaWYgKGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzICYmIGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzTW9kZSA9PT0gJ2hhcmQnKSB7XG4gICAgZGF5U2V0LmFkZCgnc2FiYWRvJyk7XG4gICAgZGF5U2V0LmFkZCgnc2F0dXJkYXknKTtcbiAgfVxuXG4gIHJldHVybiBkYXlTZXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWVQcmVmZXJlbmNlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKG5vcm1hbGl6ZWQgPT09ICdtb3JuaW5nJyB8fCBub3JtYWxpemVkID09PSAnYWZ0ZXJub29uJyB8fCBub3JtYWxpemVkID09PSAnZXZlbmluZycgfHwgbm9ybWFsaXplZCA9PT0gJ25pZ2h0Jykge1xuICAgIHJldHVybiBub3JtYWxpemVkO1xuICB9XG5cbiAgaWYgKG5vcm1hbGl6ZWQgPT09ICdhZnRlcm5vb25fb3JfbmlnaHQnIHx8IG5vcm1hbGl6ZWQgPT09ICdhZnRlcm5vb24tbmlnaHQnKSB7XG4gICAgcmV0dXJuICdhZnRlcm5vb25fb3JfbmlnaHQnO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQmxvY2tJblByZWZlcmVuY2VXaW5kb3coYmxvY2ssIHByZWZlcmVuY2UpIHtcbiAgaWYgKHByZWZlcmVuY2UgPT09ICdtb3JuaW5nJykge1xuICAgIHJldHVybiBibG9jay5zdGFydCA8IDEyICogNjA7XG4gIH1cblxuICBpZiAocHJlZmVyZW5jZSA9PT0gJ2FmdGVybm9vbicpIHtcbiAgICByZXR1cm4gYmxvY2suc3RhcnQgPj0gMTIgKiA2MCAmJiBibG9jay5zdGFydCA8IDE4ICogNjA7XG4gIH1cblxuICBpZiAocHJlZmVyZW5jZSA9PT0gJ2V2ZW5pbmcnKSB7XG4gICAgcmV0dXJuIGJsb2NrLnN0YXJ0ID49IDE4ICogNjA7XG4gIH1cblxuICBpZiAocHJlZmVyZW5jZSA9PT0gJ25pZ2h0Jykge1xuICAgIHJldHVybiBibG9jay5zdGFydCA+PSAyMCAqIDYwO1xuICB9XG5cbiAgaWYgKHByZWZlcmVuY2UgPT09ICdhZnRlcm5vb25fb3JfbmlnaHQnKSB7XG4gICAgcmV0dXJuIGJsb2NrLnN0YXJ0ID49IDEyICogNjA7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb3B0aW9uTWF0Y2hlc1RpbWVQcmVmZXJlbmNlKG9wdGlvbiwgcHJlZmVyZW5jZSkge1xuICByZXR1cm4gb3B0aW9uLmJsb2Nrcy5ldmVyeSgoYmxvY2spID0+IGlzQmxvY2tJblByZWZlcmVuY2VXaW5kb3coYmxvY2ssIHByZWZlcmVuY2UpKTtcbn1cblxuZnVuY3Rpb24gb3B0aW9uVGltZVByZWZlcmVuY2VQZW5hbHR5KG9wdGlvbiwgcHJlZmVyZW5jZSwgbWlzbWF0Y2hXZWlnaHQpIHtcbiAgaWYgKCFwcmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBsZXQgbWlzbWF0Y2hlcyA9IDA7XG4gIGZvciAoY29uc3QgYmxvY2sgb2Ygb3B0aW9uLmJsb2Nrcykge1xuICAgIGlmICghaXNCbG9ja0luUHJlZmVyZW5jZVdpbmRvdyhibG9jaywgcHJlZmVyZW5jZSkpIHtcbiAgICAgIG1pc21hdGNoZXMgKz0gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWlzbWF0Y2hlcyAqIG1pc21hdGNoV2VpZ2h0O1xufVxuXG5mdW5jdGlvbiBvcHRpb25IYXNGb3JiaWRkZW5EYXkob3B0aW9uLCBmb3JiaWRkZW5EYXlzU2V0KSB7XG4gIGlmIChmb3JiaWRkZW5EYXlzU2V0LnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gb3B0aW9uLmJsb2Nrcy5zb21lKChibG9jaykgPT4gZm9yYmlkZGVuRGF5c1NldC5oYXMoY2Fub25pY2FsaXplRGF5KGJsb2NrLmRheSkpKTtcbn1cblxuZnVuY3Rpb24gb3B0aW9uSGFzU2F0dXJkYXkob3B0aW9uKSB7XG4gIHJldHVybiBvcHRpb24uYmxvY2tzLnNvbWUoKGJsb2NrKSA9PiBpc1NhdHVyZGF5KGJsb2NrLmRheSkpO1xufVxuXG5mdW5jdGlvbiBvcHRpb25XZWVrbHlNaW51dGVzKG9wdGlvbikge1xuICByZXR1cm4gb3B0aW9uLmJsb2Nrcy5yZWR1Y2UoKHRvdGFsLCBibG9jaykgPT4gdG90YWwgKyAoYmxvY2suZW5kIC0gYmxvY2suc3RhcnQpLCAwKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQ29uc3RyYWludHModXNlckNvbnN0cmFpbnRzID0ge30pIHtcbiAgY29uc3QgcGVuYWx0eVdlaWdodHMgPSB1c2VyQ29uc3RyYWludHMucGVuYWx0eVdlaWdodHMgJiYgdHlwZW9mIHVzZXJDb25zdHJhaW50cy5wZW5hbHR5V2VpZ2h0cyA9PT0gJ29iamVjdCdcbiAgICA/IHVzZXJDb25zdHJhaW50cy5wZW5hbHR5V2VpZ2h0c1xuICAgIDoge307XG5cbiAgcmV0dXJuIHtcbiAgICBwYXNzZWRDbGFzc0lkczogQXJyYXkuaXNBcnJheSh1c2VyQ29uc3RyYWludHMucGFzc2VkQ2xhc3NJZHMpXG4gICAgICA/IHVzZXJDb25zdHJhaW50cy5wYXNzZWRDbGFzc0lkcy5maWx0ZXIoKGlkKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKGlkKSlcbiAgICAgIDogW10sXG4gICAgZm9yYmlkZGVuRGF5czogbm9ybWFsaXplU3RyaW5nQXJyYXkodXNlckNvbnN0cmFpbnRzLmZvcmJpZGRlbkRheXMpLFxuICAgIGtlZXBGcmVlRGF5czogbm9ybWFsaXplU3RyaW5nQXJyYXkodXNlckNvbnN0cmFpbnRzLmtlZXBGcmVlRGF5cyksXG4gICAgYXZvaWRTYXR1cmRheXM6IEJvb2xlYW4odXNlckNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzKSxcbiAgICBhdm9pZFNhdHVyZGF5c01vZGU6IHVzZXJDb25zdHJhaW50cy5hdm9pZFNhdHVyZGF5c01vZGUgPT09ICdoYXJkJyA/ICdoYXJkJyA6ICdzb2Z0JyxcbiAgICB0aW1lUHJlZmVyZW5jZTogbm9ybWFsaXplVGltZVByZWZlcmVuY2UodXNlckNvbnN0cmFpbnRzLnRpbWVQcmVmZXJlbmNlKSxcbiAgICB0aW1lUHJlZmVyZW5jZU1vZGU6IHVzZXJDb25zdHJhaW50cy50aW1lUHJlZmVyZW5jZU1vZGUgPT09ICdoYXJkJyA/ICdoYXJkJyA6ICdzb2Z0JyxcbiAgICBtYXhXZWVrbHlIb3Vyc1BlclBlcmlvZDogTnVtYmVyLmlzRmluaXRlKHVzZXJDb25zdHJhaW50cy5tYXhXZWVrbHlIb3Vyc1BlclBlcmlvZClcbiAgICAgID8gTnVtYmVyKHVzZXJDb25zdHJhaW50cy5tYXhXZWVrbHlIb3Vyc1BlclBlcmlvZClcbiAgICAgIDogbnVsbCxcbiAgICBtYXhDbGFzc2VzUGVyUGVyaW9kOiBOdW1iZXIuaXNGaW5pdGUodXNlckNvbnN0cmFpbnRzLm1heENsYXNzZXNQZXJQZXJpb2QpXG4gICAgICA/IE51bWJlcih1c2VyQ29uc3RyYWludHMubWF4Q2xhc3Nlc1BlclBlcmlvZClcbiAgICAgIDogbnVsbCxcbiAgICBwZW5hbHR5V2VpZ2h0czoge1xuICAgICAgdGltZVByZWZlcmVuY2U6IE51bWJlci5pc0Zpbml0ZShwZW5hbHR5V2VpZ2h0cy50aW1lUHJlZmVyZW5jZSkgPyBOdW1iZXIocGVuYWx0eVdlaWdodHMudGltZVByZWZlcmVuY2UpIDogNSxcbiAgICAgIHNhdHVyZGF5OiBOdW1iZXIuaXNGaW5pdGUocGVuYWx0eVdlaWdodHMuc2F0dXJkYXkpID8gTnVtYmVyKHBlbmFsdHlXZWlnaHRzLnNhdHVyZGF5KSA6IDNcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NDdXJyaWN1bHVtKHJhd0NsYXNzZXMsIGNvbnN0cmFpbnRzKSB7XG4gIGNvbnN0IHBhc3NlZFNldCA9IG5ldyBTZXQoY29uc3RyYWludHMucGFzc2VkQ2xhc3NJZHMpO1xuXG4gIGNvbnN0IGFjdGl2ZUNsYXNzZXMgPSByYXdDbGFzc2VzXG4gICAgLmZpbHRlcigoY2xzKSA9PiAhcGFzc2VkU2V0LmhhcyhjbHMuaWQpKVxuICAgIC5tYXAoKGNscykgPT4gKHtcbiAgICAgIC4uLmNscyxcbiAgICAgIHByZXJlcXVpc2l0ZXM6IEFycmF5LmlzQXJyYXkoY2xzLnByZXJlcXVpc2l0ZXMpXG4gICAgICAgID8gY2xzLnByZXJlcXVpc2l0ZXMuZmlsdGVyKChwcmVyZXFJZCkgPT4gIXBhc3NlZFNldC5oYXMocHJlcmVxSWQpKVxuICAgICAgICA6IFtdLFxuICAgICAgc2NoZWR1bGVPcHRpb25zOiAoY2xzLnNjaGVkdWxlT3B0aW9ucyB8fCBbXSkubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiAoe1xuICAgICAgICAuLi5vcHRpb24sXG4gICAgICAgIHNvdXJjZU9wdGlvbkluZGV4OiBvcHRpb24uc291cmNlT3B0aW9uSW5kZXggPz8gb3B0aW9uSW5kZXhcbiAgICAgIH0pKVxuICAgIH0pKTtcblxuICByZXR1cm4ge1xuICAgIGFjdGl2ZUNsYXNzZXMsXG4gICAgcGFzc2VkQ2xhc3NJZHM6IFsuLi5wYXNzZWRTZXRdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29uc3RyYWluZWREYXRhc2V0KHJhd0NsYXNzZXMsIGNvbnN0cmFpbnRzKSB7XG4gIGNvbnN0IGZvcmJpZGRlbkRheXNTZXQgPSBidWlsZERheUNvbnN0cmFpbnRTZXQoY29uc3RyYWludHMpO1xuICBjb25zdCB0aW1lUHJlZmVyZW5jZSA9IGNvbnN0cmFpbnRzLnRpbWVQcmVmZXJlbmNlO1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBbXTtcbiAgY29uc3Qgb3B0aW9uUGVuYWx0eUJ5Q2xhc3MgPSBbXTtcbiAgY29uc3Qgb3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3MgPSBbXTtcbiAgY29uc3QgZmlsdGVyZWRPdXRCeUNsYXNzID0gW107XG5cbiAgZm9yIChjb25zdCBjbHMgb2YgcmF3Q2xhc3Nlcykge1xuICAgIGNvbnN0IGFsbG93ZWRPcHRpb25zID0gW107XG4gICAgY29uc3QgcGVuYWx0aWVzID0gW107XG4gICAgY29uc3Qgd2Vla2x5TWludXRlcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBvcHRpb24gb2YgY2xzLnNjaGVkdWxlT3B0aW9ucyB8fCBbXSkge1xuICAgICAgaWYgKG9wdGlvbkhhc0ZvcmJpZGRlbkRheShvcHRpb24sIGZvcmJpZGRlbkRheXNTZXQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uc3RyYWludHMudGltZVByZWZlcmVuY2VNb2RlID09PSAnaGFyZCcgJiYgdGltZVByZWZlcmVuY2UgJiYgIW9wdGlvbk1hdGNoZXNUaW1lUHJlZmVyZW5jZShvcHRpb24sIHRpbWVQcmVmZXJlbmNlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzICYmIGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzTW9kZSA9PT0gJ2hhcmQnICYmIG9wdGlvbkhhc1NhdHVyZGF5KG9wdGlvbikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBwZW5hbHR5ID0gMDtcblxuICAgICAgaWYgKGNvbnN0cmFpbnRzLnRpbWVQcmVmZXJlbmNlTW9kZSA9PT0gJ3NvZnQnICYmIHRpbWVQcmVmZXJlbmNlKSB7XG4gICAgICAgIHBlbmFsdHkgKz0gb3B0aW9uVGltZVByZWZlcmVuY2VQZW5hbHR5KG9wdGlvbiwgdGltZVByZWZlcmVuY2UsIGNvbnN0cmFpbnRzLnBlbmFsdHlXZWlnaHRzLnRpbWVQcmVmZXJlbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzICYmIGNvbnN0cmFpbnRzLmF2b2lkU2F0dXJkYXlzTW9kZSA9PT0gJ3NvZnQnICYmIG9wdGlvbkhhc1NhdHVyZGF5KG9wdGlvbikpIHtcbiAgICAgICAgcGVuYWx0eSArPSBjb25zdHJhaW50cy5wZW5hbHR5V2VpZ2h0cy5zYXR1cmRheTtcbiAgICAgIH1cblxuICAgICAgYWxsb3dlZE9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgcGVuYWx0aWVzLnB1c2gocGVuYWx0eSk7XG4gICAgICB3ZWVrbHlNaW51dGVzLnB1c2gob3B0aW9uV2Vla2x5TWludXRlcyhvcHRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoYWxsb3dlZE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmaWx0ZXJlZE91dEJ5Q2xhc3MucHVzaCh7IGNsYXNzSWQ6IGNscy5pZCwgY2xhc3NOYW1lOiBjbHMubmFtZSB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNsYXNzZXMucHVzaCh7XG4gICAgICAuLi5jbHMsXG4gICAgICBzY2hlZHVsZU9wdGlvbnM6IGFsbG93ZWRPcHRpb25zXG4gICAgfSk7XG5cbiAgICBvcHRpb25QZW5hbHR5QnlDbGFzcy5wdXNoKHBlbmFsdGllcyk7XG4gICAgb3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3MucHVzaCh3ZWVrbHlNaW51dGVzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY2xhc3NlcyxcbiAgICBvcHRpb25QZW5hbHR5QnlDbGFzcyxcbiAgICBvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzcyxcbiAgICBmaWx0ZXJlZE91dEJ5Q2xhc3MsXG4gICAgZm9yYmlkZGVuRGF5czogWy4uLmZvcmJpZGRlbkRheXNTZXRdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkU2NoZWR1bGVCeVBlcmlvZChhc3NpZ25tZW50cykge1xuICBjb25zdCBieVBlcmlvZCA9IHt9O1xuXG4gIGZvciAoY29uc3QgW2NsYXNzSWQsIGFzc2lnbm1lbnRdIG9mIE9iamVjdC5lbnRyaWVzKGFzc2lnbm1lbnRzKSkge1xuICAgIGNvbnN0IHBlcmlvZCA9IGFzc2lnbm1lbnQucGVyaW9kO1xuICAgIGlmICghYnlQZXJpb2RbcGVyaW9kXSkge1xuICAgICAgYnlQZXJpb2RbcGVyaW9kXSA9IFtdO1xuICAgIH1cblxuICAgIGJ5UGVyaW9kW3BlcmlvZF0ucHVzaCh7IGNsYXNzSWQ6IE51bWJlcihjbGFzc0lkKSwgLi4uYXNzaWdubWVudCB9KTtcbiAgfVxuXG4gIGZvciAoY29uc3QgcGVyaW9kIG9mIE9iamVjdC5rZXlzKGJ5UGVyaW9kKSkge1xuICAgIGJ5UGVyaW9kW3BlcmlvZF0uc29ydCgoYSwgYikgPT4gYS5jbGFzc0lkIC0gYi5jbGFzc0lkKTtcbiAgfVxuXG4gIHJldHVybiBieVBlcmlvZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlU2NoZWR1bGVXaXRoQ29uc3RyYWludHMocmF3Q2xhc3NlcywgdXNlckNvbnN0cmFpbnRzID0ge30sIHNvbHZlck9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb25zdHJhaW50cyA9IG5vcm1hbGl6ZUNvbnN0cmFpbnRzKHVzZXJDb25zdHJhaW50cyk7XG4gIGNvbnN0IHByZXByb2Nlc3NlZCA9IHByZXByb2Nlc3NDdXJyaWN1bHVtKHJhd0NsYXNzZXMsIGNvbnN0cmFpbnRzKTtcbiAgY29uc3Qgbm9ybWFsaXplZEFjdGl2ZUNsYXNzZXMgPSBub3JtYWxpemVDbGFzc2VzKHByZXByb2Nlc3NlZC5hY3RpdmVDbGFzc2VzKTtcblxuICBpZiAobm9ybWFsaXplZEFjdGl2ZUNsYXNzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBhc3NpZ25tZW50czoge30sXG4gICAgICBzY2hlZHVsZUJ5UGVyaW9kOiB7fSxcbiAgICAgIHRvdGFsUGVyaW9kczogMCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgc29sdmVyOiAnc2NoZWR1bGVFbnRyeXBvaW50JyxcbiAgICAgICAgb3B0aW1hbGl0eTogJ29wdGltYWxfcHJvdmVuJyxcbiAgICAgICAgcGFzc2VkQ2xhc3NJZHM6IHByZXByb2Nlc3NlZC5wYXNzZWRDbGFzc0lkcyxcbiAgICAgICAgYXBwbGllZENvbnN0cmFpbnRzOiBjb25zdHJhaW50c1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb25zdCBjb25zdHJhaW5lZCA9IGJ1aWxkQ29uc3RyYWluZWREYXRhc2V0KG5vcm1hbGl6ZWRBY3RpdmVDbGFzc2VzLCBjb25zdHJhaW50cyk7XG5cbiAgaWYgKGNvbnN0cmFpbmVkLmNsYXNzZXMubGVuZ3RoICE9PSBwcmVwcm9jZXNzZWQuYWN0aXZlQ2xhc3Nlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ1NvbWUgY2xhc3NlcyBoYXZlIG5vIHZhbGlkIHNjaGVkdWxlIG9wdGlvbnMgdW5kZXIgY3VycmVudCBoYXJkIGNvbnN0cmFpbnRzLicsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHNvbHZlcjogJ3NjaGVkdWxlRW50cnlwb2ludCcsXG4gICAgICAgIHVuc2NoZWR1bGFibGVDbGFzc2VzOiBjb25zdHJhaW5lZC5maWx0ZXJlZE91dEJ5Q2xhc3MsXG4gICAgICAgIHBhc3NlZENsYXNzSWRzOiBwcmVwcm9jZXNzZWQucGFzc2VkQ2xhc3NJZHMsXG4gICAgICAgIGFwcGxpZWRDb25zdHJhaW50czogY29uc3RyYWludHNcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY29uc3Qgc29sdmVyUmVzdWx0ID0gc29sdmVXaXRoTWlwTWluUGVyaW9kcyhjb25zdHJhaW5lZC5jbGFzc2VzLCB7XG4gICAgdGltZW91dE1zOiBOdW1iZXIuaXNGaW5pdGUoc29sdmVyT3B0aW9ucy50aW1lb3V0TXMpID8gTnVtYmVyKHNvbHZlck9wdGlvbnMudGltZW91dE1zKSA6IDRfOTAwLFxuICAgIG1heENsYXNzZXNQZXJQZXJpb2Q6IGNvbnN0cmFpbnRzLm1heENsYXNzZXNQZXJQZXJpb2QgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIG1heFdlZWtseU1pbnV0ZXNQZXJQZXJpb2Q6XG4gICAgICBjb25zdHJhaW50cy5tYXhXZWVrbHlIb3Vyc1BlclBlcmlvZCA9PT0gbnVsbFxuICAgICAgICA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWVxuICAgICAgICA6IE1hdGgubWF4KDAsIE1hdGgucm91bmQoY29uc3RyYWludHMubWF4V2Vla2x5SG91cnNQZXJQZXJpb2QgKiA2MCkpLFxuICAgIG9wdGlvblBlbmFsdHlCeUNsYXNzOiBjb25zdHJhaW5lZC5vcHRpb25QZW5hbHR5QnlDbGFzcyxcbiAgICBvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzczogY29uc3RyYWluZWQub3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3MsXG4gICAgZ3JlZWR5UGVyaW9kU2VhcmNoVGltZUxpbWl0TXM6IE51bWJlci5pc0Zpbml0ZShzb2x2ZXJPcHRpb25zLmdyZWVkeVBlcmlvZFNlYXJjaFRpbWVMaW1pdE1zKVxuICAgICAgPyBOdW1iZXIoc29sdmVyT3B0aW9ucy5ncmVlZHlQZXJpb2RTZWFyY2hUaW1lTGltaXRNcylcbiAgICAgIDogODBcbiAgfSk7XG5cbiAgaWYgKCFzb2x2ZXJSZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiBzb2x2ZXJSZXN1bHQ7XG4gIH1cblxuICBjb25zdCByZW1hcHBlZEFzc2lnbm1lbnRzID0ge307XG5cbiAgZm9yIChsZXQgY2xhc3NJbmRleCA9IDA7IGNsYXNzSW5kZXggPCBjb25zdHJhaW5lZC5jbGFzc2VzLmxlbmd0aDsgY2xhc3NJbmRleCArPSAxKSB7XG4gICAgY29uc3QgY2xzID0gY29uc3RyYWluZWQuY2xhc3Nlc1tjbGFzc0luZGV4XTtcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gc29sdmVyUmVzdWx0LmFzc2lnbm1lbnRzW2Nscy5pZF07XG5cbiAgICBpZiAoIWFzc2lnbm1lbnQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gY2xzLnNjaGVkdWxlT3B0aW9uc1thc3NpZ25tZW50Lm9wdGlvbkluZGV4XTtcbiAgICByZW1hcHBlZEFzc2lnbm1lbnRzW2Nscy5pZF0gPSB7XG4gICAgICBwZXJpb2Q6IGFzc2lnbm1lbnQucGVyaW9kLFxuICAgICAgb3B0aW9uSW5kZXg6IHNlbGVjdGVkT3B0aW9uPy5zb3VyY2VPcHRpb25JbmRleCA/PyBhc3NpZ25tZW50Lm9wdGlvbkluZGV4LFxuICAgICAgZmlsdGVyZWRPcHRpb25JbmRleDogYXNzaWdubWVudC5vcHRpb25JbmRleFxuICAgIH07XG4gIH1cblxuICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVQbGFuKHByZXByb2Nlc3NlZC5hY3RpdmVDbGFzc2VzLCB7XG4gICAgYXNzaWdubWVudHM6IHJlbWFwcGVkQXNzaWdubWVudHMsXG4gICAgdG90YWxQZXJpb2RzOiBzb2x2ZXJSZXN1bHQudG90YWxQZXJpb2RzXG4gIH0pO1xuXG4gIGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW50ZXJuYWwgdmFsaWRhdGlvbiBmYWlsZWQgYWZ0ZXIgYXBwbHlpbmcgY29uc3RyYWludHMuJyxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgc29sdmVyOiAnc2NoZWR1bGVFbnRyeXBvaW50JyxcbiAgICAgICAgdmFsaWRhdGlvblZpb2xhdGlvbnM6IHZhbGlkYXRpb24udmlvbGF0aW9uc1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgYXNzaWdubWVudHM6IHJlbWFwcGVkQXNzaWdubWVudHMsXG4gICAgc2NoZWR1bGVCeVBlcmlvZDogYnVpbGRTY2hlZHVsZUJ5UGVyaW9kKHJlbWFwcGVkQXNzaWdubWVudHMpLFxuICAgIHRvdGFsUGVyaW9kczogc29sdmVyUmVzdWx0LnRvdGFsUGVyaW9kcyxcbiAgICBtZXRhOiB7XG4gICAgICAuLi5zb2x2ZXJSZXN1bHQubWV0YSxcbiAgICAgIHNvbHZlcjogJ3NjaGVkdWxlRW50cnlwb2ludCcsXG4gICAgICBkZWxlZ2F0ZWRTb2x2ZXI6ICdtaXBNaW5QZXJpb2RzJyxcbiAgICAgIHBhc3NlZENsYXNzSWRzOiBwcmVwcm9jZXNzZWQucGFzc2VkQ2xhc3NJZHMsXG4gICAgICBhcHBsaWVkQ29uc3RyYWludHM6IGNvbnN0cmFpbnRzLFxuICAgICAgZm9yYmlkZGVuRGF5c0Nhbm9uaWNhbDogY29uc3RyYWluZWQuZm9yYmlkZGVuRGF5c1xuICAgIH1cbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJzb2x2ZVdpdGhNaXBNaW5QZXJpb2RzIiwibm9ybWFsaXplQ2xhc3NlcyIsInZhbGlkYXRlUGxhbiIsImNhbm9uaWNhbGl6ZURheSIsImRheSIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJTQVRVUkRBWV9BTElBU0VTIiwiU2V0IiwiaXNTYXR1cmRheSIsImhhcyIsIm5vcm1hbGl6ZVN0cmluZ0FycmF5IiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwidmFsdWUiLCJidWlsZERheUNvbnN0cmFpbnRTZXQiLCJjb25zdHJhaW50cyIsImRheVNldCIsImZvcmJpZGRlbkRheXMiLCJhZGQiLCJrZWVwRnJlZURheXMiLCJhdm9pZFNhdHVyZGF5cyIsImF2b2lkU2F0dXJkYXlzTW9kZSIsIm5vcm1hbGl6ZVRpbWVQcmVmZXJlbmNlIiwibm9ybWFsaXplZCIsImlzQmxvY2tJblByZWZlcmVuY2VXaW5kb3ciLCJibG9jayIsInByZWZlcmVuY2UiLCJzdGFydCIsIm9wdGlvbk1hdGNoZXNUaW1lUHJlZmVyZW5jZSIsIm9wdGlvbiIsImJsb2NrcyIsImV2ZXJ5Iiwib3B0aW9uVGltZVByZWZlcmVuY2VQZW5hbHR5IiwibWlzbWF0Y2hXZWlnaHQiLCJtaXNtYXRjaGVzIiwib3B0aW9uSGFzRm9yYmlkZGVuRGF5IiwiZm9yYmlkZGVuRGF5c1NldCIsInNpemUiLCJzb21lIiwib3B0aW9uSGFzU2F0dXJkYXkiLCJvcHRpb25XZWVrbHlNaW51dGVzIiwicmVkdWNlIiwidG90YWwiLCJlbmQiLCJub3JtYWxpemVDb25zdHJhaW50cyIsInVzZXJDb25zdHJhaW50cyIsInBlbmFsdHlXZWlnaHRzIiwicGFzc2VkQ2xhc3NJZHMiLCJpZCIsIk51bWJlciIsImlzSW50ZWdlciIsIkJvb2xlYW4iLCJ0aW1lUHJlZmVyZW5jZSIsInRpbWVQcmVmZXJlbmNlTW9kZSIsIm1heFdlZWtseUhvdXJzUGVyUGVyaW9kIiwiaXNGaW5pdGUiLCJtYXhDbGFzc2VzUGVyUGVyaW9kIiwic2F0dXJkYXkiLCJwcmVwcm9jZXNzQ3VycmljdWx1bSIsInJhd0NsYXNzZXMiLCJwYXNzZWRTZXQiLCJhY3RpdmVDbGFzc2VzIiwiY2xzIiwibWFwIiwicHJlcmVxdWlzaXRlcyIsInByZXJlcUlkIiwic2NoZWR1bGVPcHRpb25zIiwib3B0aW9uSW5kZXgiLCJzb3VyY2VPcHRpb25JbmRleCIsImJ1aWxkQ29uc3RyYWluZWREYXRhc2V0IiwiY2xhc3NlcyIsIm9wdGlvblBlbmFsdHlCeUNsYXNzIiwib3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3MiLCJmaWx0ZXJlZE91dEJ5Q2xhc3MiLCJhbGxvd2VkT3B0aW9ucyIsInBlbmFsdGllcyIsIndlZWtseU1pbnV0ZXMiLCJwZW5hbHR5IiwicHVzaCIsImxlbmd0aCIsImNsYXNzSWQiLCJjbGFzc05hbWUiLCJuYW1lIiwiYnVpbGRTY2hlZHVsZUJ5UGVyaW9kIiwiYXNzaWdubWVudHMiLCJieVBlcmlvZCIsImFzc2lnbm1lbnQiLCJPYmplY3QiLCJlbnRyaWVzIiwicGVyaW9kIiwia2V5cyIsInNvcnQiLCJhIiwiYiIsInNvbHZlU2NoZWR1bGVXaXRoQ29uc3RyYWludHMiLCJzb2x2ZXJPcHRpb25zIiwicHJlcHJvY2Vzc2VkIiwibm9ybWFsaXplZEFjdGl2ZUNsYXNzZXMiLCJzdWNjZXNzIiwic2NoZWR1bGVCeVBlcmlvZCIsInRvdGFsUGVyaW9kcyIsIm1ldGEiLCJzb2x2ZXIiLCJvcHRpbWFsaXR5IiwiYXBwbGllZENvbnN0cmFpbnRzIiwiY29uc3RyYWluZWQiLCJlcnJvciIsInVuc2NoZWR1bGFibGVDbGFzc2VzIiwic29sdmVyUmVzdWx0IiwidGltZW91dE1zIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJtYXhXZWVrbHlNaW51dGVzUGVyUGVyaW9kIiwiTWF0aCIsIm1heCIsInJvdW5kIiwiZ3JlZWR5UGVyaW9kU2VhcmNoVGltZUxpbWl0TXMiLCJyZW1hcHBlZEFzc2lnbm1lbnRzIiwiY2xhc3NJbmRleCIsInNlbGVjdGVkT3B0aW9uIiwiZmlsdGVyZWRPcHRpb25JbmRleCIsInZhbGlkYXRpb24iLCJ2YWxpZCIsInZhbGlkYXRpb25WaW9sYXRpb25zIiwidmlvbGF0aW9ucyIsImRlbGVnYXRlZFNvbHZlciIsImZvcmJpZGRlbkRheXNDYW5vbmljYWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../src/lib/algorithm/entrypoint.js\n");

/***/ }),

/***/ "(rsc)/../src/lib/algorithm/model.js":
/*!*************************************!*\
  !*** ../src/lib/algorithm/model.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignmentsArrayToObject: () => (/* binding */ assignmentsArrayToObject),\n/* harmony export */   blocksOverlap: () => (/* binding */ blocksOverlap),\n/* harmony export */   buildConflictMatrix: () => (/* binding */ buildConflictMatrix),\n/* harmony export */   buildGraph: () => (/* binding */ buildGraph),\n/* harmony export */   normalizeClasses: () => (/* binding */ normalizeClasses),\n/* harmony export */   optionsConflict: () => (/* binding */ optionsConflict),\n/* harmony export */   toMinutes: () => (/* binding */ toMinutes)\n/* harmony export */ });\nconst TIME_REGEX = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\nfunction toMinutes(time) {\n    if (typeof time !== 'string' || !TIME_REGEX.test(time)) {\n        throw new Error(`Invalid time format: ${String(time)}`);\n    }\n    const [hours, minutes] = time.split(':').map(Number);\n    return hours * 60 + minutes;\n}\nfunction normalizeScheduleOption(option) {\n    if (option && Array.isArray(option.blocks)) {\n        return option.blocks.map((block)=>({\n                day: block.day,\n                startTime: typeof block.start === 'number' ? `${String(Math.floor(block.start / 60)).padStart(2, '0')}:${String(block.start % 60).padStart(2, '0')}` : block.startTime,\n                endTime: typeof block.end === 'number' ? `${String(Math.floor(block.end / 60)).padStart(2, '0')}:${String(block.end % 60).padStart(2, '0')}` : block.endTime\n            }));\n    }\n    if (option && Array.isArray(option.schedule)) {\n        return option.schedule;\n    }\n    if (option && Array.isArray(option.days) && option.startTime && option.endTime) {\n        return option.days.map((day)=>({\n                day,\n                startTime: option.startTime,\n                endTime: option.endTime\n            }));\n    }\n    return [];\n}\nfunction normalizeBlock(block, classId, optionIndex, blockIndex) {\n    if (!block || typeof block.day !== 'string') {\n        throw new Error(`Invalid block day at class ${classId}, option ${optionIndex}, block ${blockIndex}`);\n    }\n    const start = toMinutes(block.startTime);\n    const end = toMinutes(block.endTime);\n    if (start >= end) {\n        throw new Error(`Invalid time interval at class ${classId}, option ${optionIndex}, block ${blockIndex}`);\n    }\n    return {\n        day: block.day,\n        start,\n        end\n    };\n}\nfunction normalizeClasses(rawClasses, { strictPrerequisites = true } = {}) {\n    if (!Array.isArray(rawClasses)) {\n        throw new Error('Expected an array of classes');\n    }\n    const seenIds = new Set();\n    const classes = rawClasses.map((raw)=>{\n        if (!raw || typeof raw.id !== 'number') {\n            throw new Error('Each class must have a numeric id');\n        }\n        if (seenIds.has(raw.id)) {\n            throw new Error(`Duplicate class id ${raw.id}`);\n        }\n        seenIds.add(raw.id);\n        const scheduleOptions = (raw.scheduleOptions || []).map((option, optionIndex)=>{\n            const schedule = normalizeScheduleOption(option);\n            if (schedule.length === 0) {\n                throw new Error(`Class ${raw.id} has an empty schedule option at index ${optionIndex}`);\n            }\n            const blocks = schedule.map((block, blockIndex)=>normalizeBlock(block, raw.id, optionIndex, blockIndex));\n            return {\n                blocks,\n                sourceOptionIndex: option.sourceOptionIndex ?? optionIndex\n            };\n        });\n        if (scheduleOptions.length === 0) {\n            throw new Error(`Class ${raw.id} has no schedule options`);\n        }\n        const prerequisites = Array.isArray(raw.prerequisites) ? [\n            ...new Set(raw.prerequisites)\n        ] : [];\n        return {\n            id: raw.id,\n            name: raw.name ?? `Class ${raw.id}`,\n            prerequisites,\n            scheduleOptions\n        };\n    });\n    if (strictPrerequisites) {\n        const classIds = new Set(classes.map((cls)=>cls.id));\n        for (const cls of classes){\n            for (const prereqId of cls.prerequisites){\n                if (!classIds.has(prereqId)) {\n                    throw new Error(`Class ${cls.id} references missing prerequisite ${prereqId}`);\n                }\n            }\n        }\n    }\n    return classes;\n}\nfunction blocksOverlap(blockA, blockB) {\n    if (blockA.day !== blockB.day) {\n        return false;\n    }\n    return blockA.start < blockB.end && blockB.start < blockA.end;\n}\nfunction optionsConflict(optionA, optionB) {\n    for (const blockA of optionA.blocks){\n        for (const blockB of optionB.blocks){\n            if (blocksOverlap(blockA, blockB)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction buildConflictMatrix(classes) {\n    const matrix = Array.from({\n        length: classes.length\n    }, ()=>[]);\n    for(let i = 0; i < classes.length; i += 1){\n        const optionsI = classes[i].scheduleOptions;\n        for(let oi = 0; oi < optionsI.length; oi += 1){\n            if (!matrix[i][oi]) {\n                matrix[i][oi] = [];\n            }\n            for(let j = 0; j < classes.length; j += 1){\n                if (!matrix[i][oi][j]) {\n                    matrix[i][oi][j] = [];\n                }\n                const optionsJ = classes[j].scheduleOptions;\n                for(let oj = 0; oj < optionsJ.length; oj += 1){\n                    if (i === j) {\n                        matrix[i][oi][j][oj] = oi !== oj;\n                    } else {\n                        matrix[i][oi][j][oj] = optionsConflict(optionsI[oi], optionsJ[oj]);\n                    }\n                }\n            }\n        }\n    }\n    return matrix;\n}\nfunction buildGraph(classes) {\n    const idToIndex = new Map(classes.map((cls, index)=>[\n            cls.id,\n            index\n        ]));\n    const prereqIndices = classes.map((cls)=>cls.prerequisites.map((id)=>idToIndex.get(id)));\n    const dependentIndices = classes.map(()=>[]);\n    prereqIndices.forEach((prereqs, classIndex)=>{\n        prereqs.forEach((prereqIndex)=>{\n            if (prereqIndex === undefined) {\n                throw new Error(`Missing prerequisite while building graph at class index ${classIndex}`);\n            }\n            dependentIndices[prereqIndex].push(classIndex);\n        });\n    });\n    const indegree = prereqIndices.map((prereqs)=>prereqs.length);\n    const queue = [];\n    for(let i = 0; i < indegree.length; i += 1){\n        if (indegree[i] === 0) {\n            queue.push(i);\n        }\n    }\n    const topologicalOrder = [];\n    while(queue.length > 0){\n        const node = queue.shift();\n        topologicalOrder.push(node);\n        for (const dependent of dependentIndices[node]){\n            indegree[dependent] -= 1;\n            if (indegree[dependent] === 0) {\n                queue.push(dependent);\n            }\n        }\n    }\n    if (topologicalOrder.length !== classes.length) {\n        throw new Error('Prerequisite graph contains a cycle');\n    }\n    const rootDepth = Array(classes.length).fill(1);\n    for (const index of topologicalOrder){\n        for (const prereqIndex of prereqIndices[index]){\n            rootDepth[index] = Math.max(rootDepth[index], rootDepth[prereqIndex] + 1);\n        }\n    }\n    const tailDepth = Array(classes.length).fill(1);\n    for(let k = topologicalOrder.length - 1; k >= 0; k -= 1){\n        const index = topologicalOrder[k];\n        for (const dependent of dependentIndices[index]){\n            tailDepth[index] = Math.max(tailDepth[index], tailDepth[dependent] + 1);\n        }\n    }\n    return {\n        idToIndex,\n        prereqIndices,\n        dependentIndices,\n        topologicalOrder,\n        rootDepth,\n        tailDepth\n    };\n}\nfunction assignmentsArrayToObject(classes, periodByClass, optionByClass) {\n    const assignments = {};\n    for(let i = 0; i < classes.length; i += 1){\n        assignments[classes[i].id] = {\n            period: periodByClass[i],\n            optionIndex: optionByClass[i]\n        };\n    }\n    return assignments;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aG9yYXJpb3Mvc3JjL2xpYi9hbGdvcml0aG0vbW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVElNRV9SRUdFWCA9IC9eKFswMV1cXGR8MlswLTNdKTooWzAtNV1cXGQpJC87XG5cbmV4cG9ydCBmdW5jdGlvbiB0b01pbnV0ZXModGltZSkge1xuICBpZiAodHlwZW9mIHRpbWUgIT09ICdzdHJpbmcnIHx8ICFUSU1FX1JFR0VYLnRlc3QodGltZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGltZSBmb3JtYXQ6ICR7U3RyaW5nKHRpbWUpfWApO1xuICB9XG5cbiAgY29uc3QgW2hvdXJzLCBtaW51dGVzXSA9IHRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKTtcbiAgcmV0dXJuIGhvdXJzICogNjAgKyBtaW51dGVzO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTY2hlZHVsZU9wdGlvbihvcHRpb24pIHtcbiAgaWYgKG9wdGlvbiAmJiBBcnJheS5pc0FycmF5KG9wdGlvbi5ibG9ja3MpKSB7XG4gICAgcmV0dXJuIG9wdGlvbi5ibG9ja3MubWFwKChibG9jaykgPT4gKHtcbiAgICAgIGRheTogYmxvY2suZGF5LFxuICAgICAgc3RhcnRUaW1lOiB0eXBlb2YgYmxvY2suc3RhcnQgPT09ICdudW1iZXInID8gYCR7U3RyaW5nKE1hdGguZmxvb3IoYmxvY2suc3RhcnQgLyA2MCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGJsb2NrLnN0YXJ0ICUgNjApLnBhZFN0YXJ0KDIsICcwJyl9YCA6IGJsb2NrLnN0YXJ0VGltZSxcbiAgICAgIGVuZFRpbWU6IHR5cGVvZiBibG9jay5lbmQgPT09ICdudW1iZXInID8gYCR7U3RyaW5nKE1hdGguZmxvb3IoYmxvY2suZW5kIC8gNjApKS5wYWRTdGFydCgyLCAnMCcpfToke1N0cmluZyhibG9jay5lbmQgJSA2MCkucGFkU3RhcnQoMiwgJzAnKX1gIDogYmxvY2suZW5kVGltZVxuICAgIH0pKTtcbiAgfVxuXG4gIGlmIChvcHRpb24gJiYgQXJyYXkuaXNBcnJheShvcHRpb24uc2NoZWR1bGUpKSB7XG4gICAgcmV0dXJuIG9wdGlvbi5zY2hlZHVsZTtcbiAgfVxuXG4gIGlmIChvcHRpb24gJiYgQXJyYXkuaXNBcnJheShvcHRpb24uZGF5cykgJiYgb3B0aW9uLnN0YXJ0VGltZSAmJiBvcHRpb24uZW5kVGltZSkge1xuICAgIHJldHVybiBvcHRpb24uZGF5cy5tYXAoKGRheSkgPT4gKHsgZGF5LCBzdGFydFRpbWU6IG9wdGlvbi5zdGFydFRpbWUsIGVuZFRpbWU6IG9wdGlvbi5lbmRUaW1lIH0pKTtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmxvY2soYmxvY2ssIGNsYXNzSWQsIG9wdGlvbkluZGV4LCBibG9ja0luZGV4KSB7XG4gIGlmICghYmxvY2sgfHwgdHlwZW9mIGJsb2NrLmRheSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYmxvY2sgZGF5IGF0IGNsYXNzICR7Y2xhc3NJZH0sIG9wdGlvbiAke29wdGlvbkluZGV4fSwgYmxvY2sgJHtibG9ja0luZGV4fWApO1xuICB9XG5cbiAgY29uc3Qgc3RhcnQgPSB0b01pbnV0ZXMoYmxvY2suc3RhcnRUaW1lKTtcbiAgY29uc3QgZW5kID0gdG9NaW51dGVzKGJsb2NrLmVuZFRpbWUpO1xuXG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGltZSBpbnRlcnZhbCBhdCBjbGFzcyAke2NsYXNzSWR9LCBvcHRpb24gJHtvcHRpb25JbmRleH0sIGJsb2NrICR7YmxvY2tJbmRleH1gKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGF5OiBibG9jay5kYXksXG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDbGFzc2VzKHJhd0NsYXNzZXMsIHsgc3RyaWN0UHJlcmVxdWlzaXRlcyA9IHRydWUgfSA9IHt9KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShyYXdDbGFzc2VzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2xhc3NlcycpO1xuICB9XG5cbiAgY29uc3Qgc2VlbklkcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgY2xhc3NlcyA9IHJhd0NsYXNzZXMubWFwKChyYXcpID0+IHtcbiAgICBpZiAoIXJhdyB8fCB0eXBlb2YgcmF3LmlkICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYWNoIGNsYXNzIG11c3QgaGF2ZSBhIG51bWVyaWMgaWQnKTtcbiAgICB9XG5cbiAgICBpZiAoc2Vlbklkcy5oYXMocmF3LmlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgY2xhc3MgaWQgJHtyYXcuaWR9YCk7XG4gICAgfVxuICAgIHNlZW5JZHMuYWRkKHJhdy5pZCk7XG5cbiAgICBjb25zdCBzY2hlZHVsZU9wdGlvbnMgPSAocmF3LnNjaGVkdWxlT3B0aW9ucyB8fCBbXSkubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzY2hlZHVsZSA9IG5vcm1hbGl6ZVNjaGVkdWxlT3B0aW9uKG9wdGlvbik7XG4gICAgICBpZiAoc2NoZWR1bGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xhc3MgJHtyYXcuaWR9IGhhcyBhbiBlbXB0eSBzY2hlZHVsZSBvcHRpb24gYXQgaW5kZXggJHtvcHRpb25JbmRleH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2tzID0gc2NoZWR1bGUubWFwKChibG9jaywgYmxvY2tJbmRleCkgPT4gbm9ybWFsaXplQmxvY2soYmxvY2ssIHJhdy5pZCwgb3B0aW9uSW5kZXgsIGJsb2NrSW5kZXgpKTtcbiAgICAgIHJldHVybiB7IGJsb2Nrcywgc291cmNlT3B0aW9uSW5kZXg6IG9wdGlvbi5zb3VyY2VPcHRpb25JbmRleCA/PyBvcHRpb25JbmRleCB9O1xuICAgIH0pO1xuXG4gICAgaWYgKHNjaGVkdWxlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xhc3MgJHtyYXcuaWR9IGhhcyBubyBzY2hlZHVsZSBvcHRpb25zYCk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlcmVxdWlzaXRlcyA9IEFycmF5LmlzQXJyYXkocmF3LnByZXJlcXVpc2l0ZXMpXG4gICAgICA/IFsuLi5uZXcgU2V0KHJhdy5wcmVyZXF1aXNpdGVzKV1cbiAgICAgIDogW107XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHJhdy5pZCxcbiAgICAgIG5hbWU6IHJhdy5uYW1lID8/IGBDbGFzcyAke3Jhdy5pZH1gLFxuICAgICAgcHJlcmVxdWlzaXRlcyxcbiAgICAgIHNjaGVkdWxlT3B0aW9uc1xuICAgIH07XG4gIH0pO1xuXG4gIGlmIChzdHJpY3RQcmVyZXF1aXNpdGVzKSB7XG4gICAgY29uc3QgY2xhc3NJZHMgPSBuZXcgU2V0KGNsYXNzZXMubWFwKChjbHMpID0+IGNscy5pZCkpO1xuICAgIGZvciAoY29uc3QgY2xzIG9mIGNsYXNzZXMpIHtcbiAgICAgIGZvciAoY29uc3QgcHJlcmVxSWQgb2YgY2xzLnByZXJlcXVpc2l0ZXMpIHtcbiAgICAgICAgaWYgKCFjbGFzc0lkcy5oYXMocHJlcmVxSWQpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGFzcyAke2Nscy5pZH0gcmVmZXJlbmNlcyBtaXNzaW5nIHByZXJlcXVpc2l0ZSAke3ByZXJlcUlkfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsYXNzZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBibG9ja3NPdmVybGFwKGJsb2NrQSwgYmxvY2tCKSB7XG4gIGlmIChibG9ja0EuZGF5ICE9PSBibG9ja0IuZGF5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGJsb2NrQS5zdGFydCA8IGJsb2NrQi5lbmQgJiYgYmxvY2tCLnN0YXJ0IDwgYmxvY2tBLmVuZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbnNDb25mbGljdChvcHRpb25BLCBvcHRpb25CKSB7XG4gIGZvciAoY29uc3QgYmxvY2tBIG9mIG9wdGlvbkEuYmxvY2tzKSB7XG4gICAgZm9yIChjb25zdCBibG9ja0Igb2Ygb3B0aW9uQi5ibG9ja3MpIHtcbiAgICAgIGlmIChibG9ja3NPdmVybGFwKGJsb2NrQSwgYmxvY2tCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb25mbGljdE1hdHJpeChjbGFzc2VzKSB7XG4gIGNvbnN0IG1hdHJpeCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGNsYXNzZXMubGVuZ3RoIH0sICgpID0+IFtdKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBvcHRpb25zSSA9IGNsYXNzZXNbaV0uc2NoZWR1bGVPcHRpb25zO1xuICAgIGZvciAobGV0IG9pID0gMDsgb2kgPCBvcHRpb25zSS5sZW5ndGg7IG9pICs9IDEpIHtcbiAgICAgIGlmICghbWF0cml4W2ldW29pXSkge1xuICAgICAgICBtYXRyaXhbaV1bb2ldID0gW107XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2xhc3Nlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBpZiAoIW1hdHJpeFtpXVtvaV1bal0pIHtcbiAgICAgICAgICBtYXRyaXhbaV1bb2ldW2pdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zSiA9IGNsYXNzZXNbal0uc2NoZWR1bGVPcHRpb25zO1xuICAgICAgICBmb3IgKGxldCBvaiA9IDA7IG9qIDwgb3B0aW9uc0oubGVuZ3RoOyBvaiArPSAxKSB7XG4gICAgICAgICAgaWYgKGkgPT09IGopIHtcbiAgICAgICAgICAgIG1hdHJpeFtpXVtvaV1bal1bb2pdID0gb2kgIT09IG9qO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRyaXhbaV1bb2ldW2pdW29qXSA9IG9wdGlvbnNDb25mbGljdChvcHRpb25zSVtvaV0sIG9wdGlvbnNKW29qXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hdHJpeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkR3JhcGgoY2xhc3Nlcykge1xuICBjb25zdCBpZFRvSW5kZXggPSBuZXcgTWFwKGNsYXNzZXMubWFwKChjbHMsIGluZGV4KSA9PiBbY2xzLmlkLCBpbmRleF0pKTtcblxuICBjb25zdCBwcmVyZXFJbmRpY2VzID0gY2xhc3Nlcy5tYXAoKGNscykgPT4gY2xzLnByZXJlcXVpc2l0ZXMubWFwKChpZCkgPT4gaWRUb0luZGV4LmdldChpZCkpKTtcbiAgY29uc3QgZGVwZW5kZW50SW5kaWNlcyA9IGNsYXNzZXMubWFwKCgpID0+IFtdKTtcblxuICBwcmVyZXFJbmRpY2VzLmZvckVhY2goKHByZXJlcXMsIGNsYXNzSW5kZXgpID0+IHtcbiAgICBwcmVyZXFzLmZvckVhY2goKHByZXJlcUluZGV4KSA9PiB7XG4gICAgICBpZiAocHJlcmVxSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcHJlcmVxdWlzaXRlIHdoaWxlIGJ1aWxkaW5nIGdyYXBoIGF0IGNsYXNzIGluZGV4ICR7Y2xhc3NJbmRleH1gKTtcbiAgICAgIH1cbiAgICAgIGRlcGVuZGVudEluZGljZXNbcHJlcmVxSW5kZXhdLnB1c2goY2xhc3NJbmRleCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IGluZGVncmVlID0gcHJlcmVxSW5kaWNlcy5tYXAoKHByZXJlcXMpID0+IHByZXJlcXMubGVuZ3RoKTtcbiAgY29uc3QgcXVldWUgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRlZ3JlZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChpbmRlZ3JlZVtpXSA9PT0gMCkge1xuICAgICAgcXVldWUucHVzaChpKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB0b3BvbG9naWNhbE9yZGVyID0gW107XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgdG9wb2xvZ2ljYWxPcmRlci5wdXNoKG5vZGUpO1xuXG4gICAgZm9yIChjb25zdCBkZXBlbmRlbnQgb2YgZGVwZW5kZW50SW5kaWNlc1tub2RlXSkge1xuICAgICAgaW5kZWdyZWVbZGVwZW5kZW50XSAtPSAxO1xuICAgICAgaWYgKGluZGVncmVlW2RlcGVuZGVudF0gPT09IDApIHtcbiAgICAgICAgcXVldWUucHVzaChkZXBlbmRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0b3BvbG9naWNhbE9yZGVyLmxlbmd0aCAhPT0gY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXJlcXVpc2l0ZSBncmFwaCBjb250YWlucyBhIGN5Y2xlJyk7XG4gIH1cblxuICBjb25zdCByb290RGVwdGggPSBBcnJheShjbGFzc2VzLmxlbmd0aCkuZmlsbCgxKTtcbiAgZm9yIChjb25zdCBpbmRleCBvZiB0b3BvbG9naWNhbE9yZGVyKSB7XG4gICAgZm9yIChjb25zdCBwcmVyZXFJbmRleCBvZiBwcmVyZXFJbmRpY2VzW2luZGV4XSkge1xuICAgICAgcm9vdERlcHRoW2luZGV4XSA9IE1hdGgubWF4KHJvb3REZXB0aFtpbmRleF0sIHJvb3REZXB0aFtwcmVyZXFJbmRleF0gKyAxKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB0YWlsRGVwdGggPSBBcnJheShjbGFzc2VzLmxlbmd0aCkuZmlsbCgxKTtcbiAgZm9yIChsZXQgayA9IHRvcG9sb2dpY2FsT3JkZXIubGVuZ3RoIC0gMTsgayA+PSAwOyBrIC09IDEpIHtcbiAgICBjb25zdCBpbmRleCA9IHRvcG9sb2dpY2FsT3JkZXJba107XG4gICAgZm9yIChjb25zdCBkZXBlbmRlbnQgb2YgZGVwZW5kZW50SW5kaWNlc1tpbmRleF0pIHtcbiAgICAgIHRhaWxEZXB0aFtpbmRleF0gPSBNYXRoLm1heCh0YWlsRGVwdGhbaW5kZXhdLCB0YWlsRGVwdGhbZGVwZW5kZW50XSArIDEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaWRUb0luZGV4LFxuICAgIHByZXJlcUluZGljZXMsXG4gICAgZGVwZW5kZW50SW5kaWNlcyxcbiAgICB0b3BvbG9naWNhbE9yZGVyLFxuICAgIHJvb3REZXB0aCxcbiAgICB0YWlsRGVwdGhcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbm1lbnRzQXJyYXlUb09iamVjdChjbGFzc2VzLCBwZXJpb2RCeUNsYXNzLCBvcHRpb25CeUNsYXNzKSB7XG4gIGNvbnN0IGFzc2lnbm1lbnRzID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYXNzaWdubWVudHNbY2xhc3Nlc1tpXS5pZF0gPSB7XG4gICAgICBwZXJpb2Q6IHBlcmlvZEJ5Q2xhc3NbaV0sXG4gICAgICBvcHRpb25JbmRleDogb3B0aW9uQnlDbGFzc1tpXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gYXNzaWdubWVudHM7XG59XG4iXSwibmFtZXMiOlsiVElNRV9SRUdFWCIsInRvTWludXRlcyIsInRpbWUiLCJ0ZXN0IiwiRXJyb3IiLCJTdHJpbmciLCJob3VycyIsIm1pbnV0ZXMiLCJzcGxpdCIsIm1hcCIsIk51bWJlciIsIm5vcm1hbGl6ZVNjaGVkdWxlT3B0aW9uIiwib3B0aW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiYmxvY2tzIiwiYmxvY2siLCJkYXkiLCJzdGFydFRpbWUiLCJzdGFydCIsIk1hdGgiLCJmbG9vciIsInBhZFN0YXJ0IiwiZW5kVGltZSIsImVuZCIsInNjaGVkdWxlIiwiZGF5cyIsIm5vcm1hbGl6ZUJsb2NrIiwiY2xhc3NJZCIsIm9wdGlvbkluZGV4IiwiYmxvY2tJbmRleCIsIm5vcm1hbGl6ZUNsYXNzZXMiLCJyYXdDbGFzc2VzIiwic3RyaWN0UHJlcmVxdWlzaXRlcyIsInNlZW5JZHMiLCJTZXQiLCJjbGFzc2VzIiwicmF3IiwiaWQiLCJoYXMiLCJhZGQiLCJzY2hlZHVsZU9wdGlvbnMiLCJsZW5ndGgiLCJzb3VyY2VPcHRpb25JbmRleCIsInByZXJlcXVpc2l0ZXMiLCJuYW1lIiwiY2xhc3NJZHMiLCJjbHMiLCJwcmVyZXFJZCIsImJsb2Nrc092ZXJsYXAiLCJibG9ja0EiLCJibG9ja0IiLCJvcHRpb25zQ29uZmxpY3QiLCJvcHRpb25BIiwib3B0aW9uQiIsImJ1aWxkQ29uZmxpY3RNYXRyaXgiLCJtYXRyaXgiLCJmcm9tIiwiaSIsIm9wdGlvbnNJIiwib2kiLCJqIiwib3B0aW9uc0oiLCJvaiIsImJ1aWxkR3JhcGgiLCJpZFRvSW5kZXgiLCJNYXAiLCJpbmRleCIsInByZXJlcUluZGljZXMiLCJnZXQiLCJkZXBlbmRlbnRJbmRpY2VzIiwiZm9yRWFjaCIsInByZXJlcXMiLCJjbGFzc0luZGV4IiwicHJlcmVxSW5kZXgiLCJ1bmRlZmluZWQiLCJwdXNoIiwiaW5kZWdyZWUiLCJxdWV1ZSIsInRvcG9sb2dpY2FsT3JkZXIiLCJub2RlIiwic2hpZnQiLCJkZXBlbmRlbnQiLCJyb290RGVwdGgiLCJmaWxsIiwibWF4IiwidGFpbERlcHRoIiwiayIsImFzc2lnbm1lbnRzQXJyYXlUb09iamVjdCIsInBlcmlvZEJ5Q2xhc3MiLCJvcHRpb25CeUNsYXNzIiwiYXNzaWdubWVudHMiLCJwZXJpb2QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../src/lib/algorithm/model.js\n");

/***/ }),

/***/ "(rsc)/../src/lib/algorithm/solvers/criticalPathGreedy.js":
/*!**********************************************************!*\
  !*** ../src/lib/algorithm/solvers/criticalPathGreedy.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   solveWithCriticalPathGreedy: () => (/* binding */ solveWithCriticalPathGreedy)\n/* harmony export */ });\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model.js */ \"(rsc)/../src/lib/algorithm/model.js\");\n\nfunction nowMs() {\n    return globalThis.performance?.now?.() ?? Date.now();\n}\nfunction canPlace(classIndex, optionIndex, selected, conflictMatrix) {\n    for (const entry of selected){\n        if (conflictMatrix[classIndex][optionIndex][entry.classIndex][entry.optionIndex]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction greedyFallback(order, classes, conflictMatrix, maxClasses) {\n    const selected = [];\n    for (const classIndex of order){\n        if (selected.length >= maxClasses) {\n            break;\n        }\n        const options = classes[classIndex].scheduleOptions;\n        for(let optionIndex = 0; optionIndex < options.length; optionIndex += 1){\n            if (canPlace(classIndex, optionIndex, selected, conflictMatrix)) {\n                selected.push({\n                    classIndex,\n                    optionIndex\n                });\n                break;\n            }\n        }\n    }\n    return selected;\n}\nfunction pickBestPeriodSubset(eligible, classes, conflictMatrix, graph, maxClassesPerPeriod, periodSearchTimeLimitMs) {\n    const order = [\n        ...eligible\n    ].sort((a, b)=>{\n        const depthDiff = graph.tailDepth[b] - graph.tailDepth[a];\n        if (depthDiff !== 0) {\n            return depthDiff;\n        }\n        return classes[a].scheduleOptions.length - classes[b].scheduleOptions.length;\n    });\n    const startedAt = nowMs();\n    let timedOut = false;\n    const best = {\n        count: -1,\n        score: -1,\n        selected: []\n    };\n    const selected = [];\n    function updateBest() {\n        let score = 0;\n        for (const entry of selected){\n            score += graph.tailDepth[entry.classIndex];\n        }\n        if (selected.length > best.count || selected.length === best.count && score > best.score) {\n            best.count = selected.length;\n            best.score = score;\n            best.selected = selected.map((entry)=>({\n                    ...entry\n                }));\n        }\n    }\n    function dfs(position) {\n        if (nowMs() - startedAt > periodSearchTimeLimitMs) {\n            timedOut = true;\n            return;\n        }\n        if (selected.length >= maxClassesPerPeriod || position >= order.length) {\n            updateBest();\n            return;\n        }\n        const remaining = order.length - position;\n        if (selected.length + remaining < best.count) {\n            return;\n        }\n        const classIndex = order[position];\n        const options = classes[classIndex].scheduleOptions;\n        for(let optionIndex = 0; optionIndex < options.length; optionIndex += 1){\n            if (!canPlace(classIndex, optionIndex, selected, conflictMatrix)) {\n                continue;\n            }\n            selected.push({\n                classIndex,\n                optionIndex\n            });\n            dfs(position + 1);\n            selected.pop();\n            if (timedOut) {\n                return;\n            }\n        }\n        dfs(position + 1);\n    }\n    dfs(0);\n    if (timedOut) {\n        return {\n            selected: greedyFallback(order, classes, conflictMatrix, maxClassesPerPeriod),\n            timedOut: true\n        };\n    }\n    return {\n        selected: best.selected,\n        timedOut: false\n    };\n}\nfunction solveWithCriticalPathGreedy(rawClasses, { maxClassesPerPeriod = Number.POSITIVE_INFINITY, periodSearchTimeLimitMs = 100 } = {}) {\n    const startedAt = nowMs();\n    const classes = (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.normalizeClasses)(rawClasses);\n    const graph = (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.buildGraph)(classes);\n    const conflictMatrix = (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.buildConflictMatrix)(classes);\n    const periodByClass = Array(classes.length).fill(0);\n    const optionByClass = Array(classes.length).fill(-1);\n    const remaining = new Set(classes.map((_, index)=>index));\n    const completed = new Set();\n    let period = 1;\n    let timedOutPeriods = 0;\n    while(remaining.size > 0){\n        const eligible = [];\n        for (const classIndex of remaining){\n            const prereqsSatisfied = graph.prereqIndices[classIndex].every((prereqIndex)=>completed.has(prereqIndex));\n            if (prereqsSatisfied) {\n                eligible.push(classIndex);\n            }\n        }\n        if (eligible.length === 0) {\n            return {\n                success: false,\n                error: 'No eligible class found. The prerequisite graph may be invalid.'\n            };\n        }\n        const pick = pickBestPeriodSubset(eligible, classes, conflictMatrix, graph, maxClassesPerPeriod, periodSearchTimeLimitMs);\n        if (pick.timedOut) {\n            timedOutPeriods += 1;\n        }\n        const selected = pick.selected;\n        if (selected.length === 0) {\n            const classIndex = eligible[0];\n            selected.push({\n                classIndex,\n                optionIndex: 0\n            });\n        }\n        for (const entry of selected){\n            periodByClass[entry.classIndex] = period;\n            optionByClass[entry.classIndex] = entry.optionIndex;\n            completed.add(entry.classIndex);\n            remaining.delete(entry.classIndex);\n        }\n        period += 1;\n        if (period > classes.length + 1) {\n            return {\n                success: false,\n                error: 'Unexpected period growth while building schedule'\n            };\n        }\n    }\n    const totalPeriods = Math.max(...periodByClass);\n    return {\n        success: true,\n        assignments: (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.assignmentsArrayToObject)(classes, periodByClass, optionByClass),\n        totalPeriods,\n        meta: {\n            solver: 'criticalPathGreedy',\n            runtimeMs: nowMs() - startedAt,\n            timedOutPeriods\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vc3JjL2xpYi9hbGdvcml0aG0vc29sdmVycy9jcml0aWNhbFBhdGhHcmVlZHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLcUI7QUFFckIsU0FBU0k7SUFDUCxPQUFPQyxXQUFXQyxXQUFXLEVBQUVDLFdBQVdDLEtBQUtELEdBQUc7QUFDcEQ7QUFFQSxTQUFTRSxTQUFTQyxVQUFVLEVBQUVDLFdBQVcsRUFBRUMsUUFBUSxFQUFFQyxjQUFjO0lBQ2pFLEtBQUssTUFBTUMsU0FBU0YsU0FBVTtRQUM1QixJQUFJQyxjQUFjLENBQUNILFdBQVcsQ0FBQ0MsWUFBWSxDQUFDRyxNQUFNSixVQUFVLENBQUMsQ0FBQ0ksTUFBTUgsV0FBVyxDQUFDLEVBQUU7WUFDaEYsT0FBTztRQUNUO0lBQ0Y7SUFFQSxPQUFPO0FBQ1Q7QUFFQSxTQUFTSSxlQUFlQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUosY0FBYyxFQUFFSyxVQUFVO0lBQ2hFLE1BQU1OLFdBQVcsRUFBRTtJQUVuQixLQUFLLE1BQU1GLGNBQWNNLE1BQU87UUFDOUIsSUFBSUosU0FBU08sTUFBTSxJQUFJRCxZQUFZO1lBQ2pDO1FBQ0Y7UUFFQSxNQUFNRSxVQUFVSCxPQUFPLENBQUNQLFdBQVcsQ0FBQ1csZUFBZTtRQUNuRCxJQUFLLElBQUlWLGNBQWMsR0FBR0EsY0FBY1MsUUFBUUQsTUFBTSxFQUFFUixlQUFlLEVBQUc7WUFDeEUsSUFBSUYsU0FBU0MsWUFBWUMsYUFBYUMsVUFBVUMsaUJBQWlCO2dCQUMvREQsU0FBU1UsSUFBSSxDQUFDO29CQUFFWjtvQkFBWUM7Z0JBQVk7Z0JBQ3hDO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsT0FBT0M7QUFDVDtBQUVBLFNBQVNXLHFCQUFxQkMsUUFBUSxFQUFFUCxPQUFPLEVBQUVKLGNBQWMsRUFBRVksS0FBSyxFQUFFQyxtQkFBbUIsRUFBRUMsdUJBQXVCO0lBQ2xILE1BQU1YLFFBQVE7V0FBSVE7S0FBUyxDQUFDSSxJQUFJLENBQUMsQ0FBQ0MsR0FBR0M7UUFDbkMsTUFBTUMsWUFBWU4sTUFBTU8sU0FBUyxDQUFDRixFQUFFLEdBQUdMLE1BQU1PLFNBQVMsQ0FBQ0gsRUFBRTtRQUN6RCxJQUFJRSxjQUFjLEdBQUc7WUFDbkIsT0FBT0E7UUFDVDtRQUVBLE9BQU9kLE9BQU8sQ0FBQ1ksRUFBRSxDQUFDUixlQUFlLENBQUNGLE1BQU0sR0FBR0YsT0FBTyxDQUFDYSxFQUFFLENBQUNULGVBQWUsQ0FBQ0YsTUFBTTtJQUM5RTtJQUVBLE1BQU1jLFlBQVk3QjtJQUNsQixJQUFJOEIsV0FBVztJQUVmLE1BQU1DLE9BQU87UUFDWEMsT0FBTyxDQUFDO1FBQ1JDLE9BQU8sQ0FBQztRQUNSekIsVUFBVSxFQUFFO0lBQ2Q7SUFFQSxNQUFNQSxXQUFXLEVBQUU7SUFFbkIsU0FBUzBCO1FBQ1AsSUFBSUQsUUFBUTtRQUNaLEtBQUssTUFBTXZCLFNBQVNGLFNBQVU7WUFDNUJ5QixTQUFTWixNQUFNTyxTQUFTLENBQUNsQixNQUFNSixVQUFVLENBQUM7UUFDNUM7UUFFQSxJQUFJRSxTQUFTTyxNQUFNLEdBQUdnQixLQUFLQyxLQUFLLElBQUt4QixTQUFTTyxNQUFNLEtBQUtnQixLQUFLQyxLQUFLLElBQUlDLFFBQVFGLEtBQUtFLEtBQUssRUFBRztZQUMxRkYsS0FBS0MsS0FBSyxHQUFHeEIsU0FBU08sTUFBTTtZQUM1QmdCLEtBQUtFLEtBQUssR0FBR0E7WUFDYkYsS0FBS3ZCLFFBQVEsR0FBR0EsU0FBUzJCLEdBQUcsQ0FBQyxDQUFDekIsUUFBVztvQkFBRSxHQUFHQSxLQUFLO2dCQUFDO1FBQ3REO0lBQ0Y7SUFFQSxTQUFTMEIsSUFBSUMsUUFBUTtRQUNuQixJQUFJckMsVUFBVTZCLFlBQVlOLHlCQUF5QjtZQUNqRE8sV0FBVztZQUNYO1FBQ0Y7UUFFQSxJQUFJdEIsU0FBU08sTUFBTSxJQUFJTyx1QkFBdUJlLFlBQVl6QixNQUFNRyxNQUFNLEVBQUU7WUFDdEVtQjtZQUNBO1FBQ0Y7UUFFQSxNQUFNSSxZQUFZMUIsTUFBTUcsTUFBTSxHQUFHc0I7UUFDakMsSUFBSTdCLFNBQVNPLE1BQU0sR0FBR3VCLFlBQVlQLEtBQUtDLEtBQUssRUFBRTtZQUM1QztRQUNGO1FBRUEsTUFBTTFCLGFBQWFNLEtBQUssQ0FBQ3lCLFNBQVM7UUFDbEMsTUFBTXJCLFVBQVVILE9BQU8sQ0FBQ1AsV0FBVyxDQUFDVyxlQUFlO1FBRW5ELElBQUssSUFBSVYsY0FBYyxHQUFHQSxjQUFjUyxRQUFRRCxNQUFNLEVBQUVSLGVBQWUsRUFBRztZQUN4RSxJQUFJLENBQUNGLFNBQVNDLFlBQVlDLGFBQWFDLFVBQVVDLGlCQUFpQjtnQkFDaEU7WUFDRjtZQUVBRCxTQUFTVSxJQUFJLENBQUM7Z0JBQUVaO2dCQUFZQztZQUFZO1lBQ3hDNkIsSUFBSUMsV0FBVztZQUNmN0IsU0FBUytCLEdBQUc7WUFFWixJQUFJVCxVQUFVO2dCQUNaO1lBQ0Y7UUFDRjtRQUVBTSxJQUFJQyxXQUFXO0lBQ2pCO0lBRUFELElBQUk7SUFFSixJQUFJTixVQUFVO1FBQ1osT0FBTztZQUNMdEIsVUFBVUcsZUFBZUMsT0FBT0MsU0FBU0osZ0JBQWdCYTtZQUN6RFEsVUFBVTtRQUNaO0lBQ0Y7SUFFQSxPQUFPO1FBQ0x0QixVQUFVdUIsS0FBS3ZCLFFBQVE7UUFDdkJzQixVQUFVO0lBQ1o7QUFDRjtBQUVPLFNBQVNVLDRCQUE0QkMsVUFBVSxFQUFFLEVBQ3REbkIsc0JBQXNCb0IsT0FBT0MsaUJBQWlCLEVBQzlDcEIsMEJBQTBCLEdBQUcsRUFDOUIsR0FBRyxDQUFDLENBQUM7SUFDSixNQUFNTSxZQUFZN0I7SUFFbEIsTUFBTWEsVUFBVWQsMkRBQWdCQSxDQUFDMEM7SUFDakMsTUFBTXBCLFFBQVF2QixxREFBVUEsQ0FBQ2U7SUFDekIsTUFBTUosaUJBQWlCWiw4REFBbUJBLENBQUNnQjtJQUUzQyxNQUFNK0IsZ0JBQWdCQyxNQUFNaEMsUUFBUUUsTUFBTSxFQUFFK0IsSUFBSSxDQUFDO0lBQ2pELE1BQU1DLGdCQUFnQkYsTUFBTWhDLFFBQVFFLE1BQU0sRUFBRStCLElBQUksQ0FBQyxDQUFDO0lBRWxELE1BQU1SLFlBQVksSUFBSVUsSUFBSW5DLFFBQVFzQixHQUFHLENBQUMsQ0FBQ2MsR0FBR0MsUUFBVUE7SUFDcEQsTUFBTUMsWUFBWSxJQUFJSDtJQUV0QixJQUFJSSxTQUFTO0lBQ2IsSUFBSUMsa0JBQWtCO0lBRXRCLE1BQU9mLFVBQVVnQixJQUFJLEdBQUcsRUFBRztRQUN6QixNQUFNbEMsV0FBVyxFQUFFO1FBRW5CLEtBQUssTUFBTWQsY0FBY2dDLFVBQVc7WUFDbEMsTUFBTWlCLG1CQUFtQmxDLE1BQU1tQyxhQUFhLENBQUNsRCxXQUFXLENBQUNtRCxLQUFLLENBQUMsQ0FBQ0MsY0FBZ0JQLFVBQVVRLEdBQUcsQ0FBQ0Q7WUFDOUYsSUFBSUgsa0JBQWtCO2dCQUNwQm5DLFNBQVNGLElBQUksQ0FBQ1o7WUFDaEI7UUFDRjtRQUVBLElBQUljLFNBQVNMLE1BQU0sS0FBSyxHQUFHO1lBQ3pCLE9BQU87Z0JBQ0w2QyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1Q7UUFDRjtRQUVBLE1BQU1DLE9BQU8zQyxxQkFDWEMsVUFDQVAsU0FDQUosZ0JBQ0FZLE9BQ0FDLHFCQUNBQztRQUdGLElBQUl1QyxLQUFLaEMsUUFBUSxFQUFFO1lBQ2pCdUIsbUJBQW1CO1FBQ3JCO1FBRUEsTUFBTTdDLFdBQVdzRCxLQUFLdEQsUUFBUTtRQUM5QixJQUFJQSxTQUFTTyxNQUFNLEtBQUssR0FBRztZQUN6QixNQUFNVCxhQUFhYyxRQUFRLENBQUMsRUFBRTtZQUM5QlosU0FBU1UsSUFBSSxDQUFDO2dCQUFFWjtnQkFBWUMsYUFBYTtZQUFFO1FBQzdDO1FBRUEsS0FBSyxNQUFNRyxTQUFTRixTQUFVO1lBQzVCb0MsYUFBYSxDQUFDbEMsTUFBTUosVUFBVSxDQUFDLEdBQUc4QztZQUNsQ0wsYUFBYSxDQUFDckMsTUFBTUosVUFBVSxDQUFDLEdBQUdJLE1BQU1ILFdBQVc7WUFDbkQ0QyxVQUFVWSxHQUFHLENBQUNyRCxNQUFNSixVQUFVO1lBQzlCZ0MsVUFBVTBCLE1BQU0sQ0FBQ3RELE1BQU1KLFVBQVU7UUFDbkM7UUFFQThDLFVBQVU7UUFFVixJQUFJQSxTQUFTdkMsUUFBUUUsTUFBTSxHQUFHLEdBQUc7WUFDL0IsT0FBTztnQkFDTDZDLFNBQVM7Z0JBQ1RDLE9BQU87WUFDVDtRQUNGO0lBQ0Y7SUFFQSxNQUFNSSxlQUFlQyxLQUFLQyxHQUFHLElBQUl2QjtJQUVqQyxPQUFPO1FBQ0xnQixTQUFTO1FBQ1RRLGFBQWF4RSxtRUFBd0JBLENBQUNpQixTQUFTK0IsZUFBZUc7UUFDOURrQjtRQUNBSSxNQUFNO1lBQ0pDLFFBQVE7WUFDUkMsV0FBV3ZFLFVBQVU2QjtZQUNyQndCO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9zYW0vZGV2L2ZhY3Uvc2NoZWR1bGUvcGxhbmlmaWNhZG9yLWhvcmFyaW9zL3NyYy9saWIvYWxnb3JpdGhtL3NvbHZlcnMvY3JpdGljYWxQYXRoR3JlZWR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbm1lbnRzQXJyYXlUb09iamVjdCxcbiAgYnVpbGRDb25mbGljdE1hdHJpeCxcbiAgYnVpbGRHcmFwaCxcbiAgbm9ybWFsaXplQ2xhc3Nlc1xufSBmcm9tICcuLi9tb2RlbC5qcyc7XG5cbmZ1bmN0aW9uIG5vd01zKCkge1xuICByZXR1cm4gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZT8ubm93Py4oKSA/PyBEYXRlLm5vdygpO1xufVxuXG5mdW5jdGlvbiBjYW5QbGFjZShjbGFzc0luZGV4LCBvcHRpb25JbmRleCwgc2VsZWN0ZWQsIGNvbmZsaWN0TWF0cml4KSB7XG4gIGZvciAoY29uc3QgZW50cnkgb2Ygc2VsZWN0ZWQpIHtcbiAgICBpZiAoY29uZmxpY3RNYXRyaXhbY2xhc3NJbmRleF1bb3B0aW9uSW5kZXhdW2VudHJ5LmNsYXNzSW5kZXhdW2VudHJ5Lm9wdGlvbkluZGV4XSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBncmVlZHlGYWxsYmFjayhvcmRlciwgY2xhc3NlcywgY29uZmxpY3RNYXRyaXgsIG1heENsYXNzZXMpIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBbXTtcblxuICBmb3IgKGNvbnN0IGNsYXNzSW5kZXggb2Ygb3JkZXIpIHtcbiAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoID49IG1heENsYXNzZXMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSBjbGFzc2VzW2NsYXNzSW5kZXhdLnNjaGVkdWxlT3B0aW9ucztcbiAgICBmb3IgKGxldCBvcHRpb25JbmRleCA9IDA7IG9wdGlvbkluZGV4IDwgb3B0aW9ucy5sZW5ndGg7IG9wdGlvbkluZGV4ICs9IDEpIHtcbiAgICAgIGlmIChjYW5QbGFjZShjbGFzc0luZGV4LCBvcHRpb25JbmRleCwgc2VsZWN0ZWQsIGNvbmZsaWN0TWF0cml4KSkge1xuICAgICAgICBzZWxlY3RlZC5wdXNoKHsgY2xhc3NJbmRleCwgb3B0aW9uSW5kZXggfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZWxlY3RlZDtcbn1cblxuZnVuY3Rpb24gcGlja0Jlc3RQZXJpb2RTdWJzZXQoZWxpZ2libGUsIGNsYXNzZXMsIGNvbmZsaWN0TWF0cml4LCBncmFwaCwgbWF4Q2xhc3Nlc1BlclBlcmlvZCwgcGVyaW9kU2VhcmNoVGltZUxpbWl0TXMpIHtcbiAgY29uc3Qgb3JkZXIgPSBbLi4uZWxpZ2libGVdLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBkZXB0aERpZmYgPSBncmFwaC50YWlsRGVwdGhbYl0gLSBncmFwaC50YWlsRGVwdGhbYV07XG4gICAgaWYgKGRlcHRoRGlmZiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGRlcHRoRGlmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3Nlc1thXS5zY2hlZHVsZU9wdGlvbnMubGVuZ3RoIC0gY2xhc3Nlc1tiXS5zY2hlZHVsZU9wdGlvbnMubGVuZ3RoO1xuICB9KTtcblxuICBjb25zdCBzdGFydGVkQXQgPSBub3dNcygpO1xuICBsZXQgdGltZWRPdXQgPSBmYWxzZTtcblxuICBjb25zdCBiZXN0ID0ge1xuICAgIGNvdW50OiAtMSxcbiAgICBzY29yZTogLTEsXG4gICAgc2VsZWN0ZWQ6IFtdXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBbXTtcblxuICBmdW5jdGlvbiB1cGRhdGVCZXN0KCkge1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBzZWxlY3RlZCkge1xuICAgICAgc2NvcmUgKz0gZ3JhcGgudGFpbERlcHRoW2VudHJ5LmNsYXNzSW5kZXhdO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPiBiZXN0LmNvdW50IHx8IChzZWxlY3RlZC5sZW5ndGggPT09IGJlc3QuY291bnQgJiYgc2NvcmUgPiBiZXN0LnNjb3JlKSkge1xuICAgICAgYmVzdC5jb3VudCA9IHNlbGVjdGVkLmxlbmd0aDtcbiAgICAgIGJlc3Quc2NvcmUgPSBzY29yZTtcbiAgICAgIGJlc3Quc2VsZWN0ZWQgPSBzZWxlY3RlZC5tYXAoKGVudHJ5KSA9PiAoeyAuLi5lbnRyeSB9KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGZzKHBvc2l0aW9uKSB7XG4gICAgaWYgKG5vd01zKCkgLSBzdGFydGVkQXQgPiBwZXJpb2RTZWFyY2hUaW1lTGltaXRNcykge1xuICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPj0gbWF4Q2xhc3Nlc1BlclBlcmlvZCB8fCBwb3NpdGlvbiA+PSBvcmRlci5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZUJlc3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZW1haW5pbmcgPSBvcmRlci5sZW5ndGggLSBwb3NpdGlvbjtcbiAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoICsgcmVtYWluaW5nIDwgYmVzdC5jb3VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzSW5kZXggPSBvcmRlcltwb3NpdGlvbl07XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNsYXNzZXNbY2xhc3NJbmRleF0uc2NoZWR1bGVPcHRpb25zO1xuXG4gICAgZm9yIChsZXQgb3B0aW9uSW5kZXggPSAwOyBvcHRpb25JbmRleCA8IG9wdGlvbnMubGVuZ3RoOyBvcHRpb25JbmRleCArPSAxKSB7XG4gICAgICBpZiAoIWNhblBsYWNlKGNsYXNzSW5kZXgsIG9wdGlvbkluZGV4LCBzZWxlY3RlZCwgY29uZmxpY3RNYXRyaXgpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RlZC5wdXNoKHsgY2xhc3NJbmRleCwgb3B0aW9uSW5kZXggfSk7XG4gICAgICBkZnMocG9zaXRpb24gKyAxKTtcbiAgICAgIHNlbGVjdGVkLnBvcCgpO1xuXG4gICAgICBpZiAodGltZWRPdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRmcyhwb3NpdGlvbiArIDEpO1xuICB9XG5cbiAgZGZzKDApO1xuXG4gIGlmICh0aW1lZE91dCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZDogZ3JlZWR5RmFsbGJhY2sob3JkZXIsIGNsYXNzZXMsIGNvbmZsaWN0TWF0cml4LCBtYXhDbGFzc2VzUGVyUGVyaW9kKSxcbiAgICAgIHRpbWVkT3V0OiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2VsZWN0ZWQ6IGJlc3Quc2VsZWN0ZWQsXG4gICAgdGltZWRPdXQ6IGZhbHNlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb2x2ZVdpdGhDcml0aWNhbFBhdGhHcmVlZHkocmF3Q2xhc3Nlcywge1xuICBtYXhDbGFzc2VzUGVyUGVyaW9kID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICBwZXJpb2RTZWFyY2hUaW1lTGltaXRNcyA9IDEwMFxufSA9IHt9KSB7XG4gIGNvbnN0IHN0YXJ0ZWRBdCA9IG5vd01zKCk7XG5cbiAgY29uc3QgY2xhc3NlcyA9IG5vcm1hbGl6ZUNsYXNzZXMocmF3Q2xhc3Nlcyk7XG4gIGNvbnN0IGdyYXBoID0gYnVpbGRHcmFwaChjbGFzc2VzKTtcbiAgY29uc3QgY29uZmxpY3RNYXRyaXggPSBidWlsZENvbmZsaWN0TWF0cml4KGNsYXNzZXMpO1xuXG4gIGNvbnN0IHBlcmlvZEJ5Q2xhc3MgPSBBcnJheShjbGFzc2VzLmxlbmd0aCkuZmlsbCgwKTtcbiAgY29uc3Qgb3B0aW9uQnlDbGFzcyA9IEFycmF5KGNsYXNzZXMubGVuZ3RoKS5maWxsKC0xKTtcblxuICBjb25zdCByZW1haW5pbmcgPSBuZXcgU2V0KGNsYXNzZXMubWFwKChfLCBpbmRleCkgPT4gaW5kZXgpKTtcbiAgY29uc3QgY29tcGxldGVkID0gbmV3IFNldCgpO1xuXG4gIGxldCBwZXJpb2QgPSAxO1xuICBsZXQgdGltZWRPdXRQZXJpb2RzID0gMDtcblxuICB3aGlsZSAocmVtYWluaW5nLnNpemUgPiAwKSB7XG4gICAgY29uc3QgZWxpZ2libGUgPSBbXTtcblxuICAgIGZvciAoY29uc3QgY2xhc3NJbmRleCBvZiByZW1haW5pbmcpIHtcbiAgICAgIGNvbnN0IHByZXJlcXNTYXRpc2ZpZWQgPSBncmFwaC5wcmVyZXFJbmRpY2VzW2NsYXNzSW5kZXhdLmV2ZXJ5KChwcmVyZXFJbmRleCkgPT4gY29tcGxldGVkLmhhcyhwcmVyZXFJbmRleCkpO1xuICAgICAgaWYgKHByZXJlcXNTYXRpc2ZpZWQpIHtcbiAgICAgICAgZWxpZ2libGUucHVzaChjbGFzc0luZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZWxpZ2libGUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdObyBlbGlnaWJsZSBjbGFzcyBmb3VuZC4gVGhlIHByZXJlcXVpc2l0ZSBncmFwaCBtYXkgYmUgaW52YWxpZC4nXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHBpY2sgPSBwaWNrQmVzdFBlcmlvZFN1YnNldChcbiAgICAgIGVsaWdpYmxlLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIGNvbmZsaWN0TWF0cml4LFxuICAgICAgZ3JhcGgsXG4gICAgICBtYXhDbGFzc2VzUGVyUGVyaW9kLFxuICAgICAgcGVyaW9kU2VhcmNoVGltZUxpbWl0TXNcbiAgICApO1xuXG4gICAgaWYgKHBpY2sudGltZWRPdXQpIHtcbiAgICAgIHRpbWVkT3V0UGVyaW9kcyArPSAxO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkID0gcGljay5zZWxlY3RlZDtcbiAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBjbGFzc0luZGV4ID0gZWxpZ2libGVbMF07XG4gICAgICBzZWxlY3RlZC5wdXNoKHsgY2xhc3NJbmRleCwgb3B0aW9uSW5kZXg6IDAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBzZWxlY3RlZCkge1xuICAgICAgcGVyaW9kQnlDbGFzc1tlbnRyeS5jbGFzc0luZGV4XSA9IHBlcmlvZDtcbiAgICAgIG9wdGlvbkJ5Q2xhc3NbZW50cnkuY2xhc3NJbmRleF0gPSBlbnRyeS5vcHRpb25JbmRleDtcbiAgICAgIGNvbXBsZXRlZC5hZGQoZW50cnkuY2xhc3NJbmRleCk7XG4gICAgICByZW1haW5pbmcuZGVsZXRlKGVudHJ5LmNsYXNzSW5kZXgpO1xuICAgIH1cblxuICAgIHBlcmlvZCArPSAxO1xuXG4gICAgaWYgKHBlcmlvZCA+IGNsYXNzZXMubGVuZ3RoICsgMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnVW5leHBlY3RlZCBwZXJpb2QgZ3Jvd3RoIHdoaWxlIGJ1aWxkaW5nIHNjaGVkdWxlJ1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB0b3RhbFBlcmlvZHMgPSBNYXRoLm1heCguLi5wZXJpb2RCeUNsYXNzKTtcblxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgYXNzaWdubWVudHM6IGFzc2lnbm1lbnRzQXJyYXlUb09iamVjdChjbGFzc2VzLCBwZXJpb2RCeUNsYXNzLCBvcHRpb25CeUNsYXNzKSxcbiAgICB0b3RhbFBlcmlvZHMsXG4gICAgbWV0YToge1xuICAgICAgc29sdmVyOiAnY3JpdGljYWxQYXRoR3JlZWR5JyxcbiAgICAgIHJ1bnRpbWVNczogbm93TXMoKSAtIHN0YXJ0ZWRBdCxcbiAgICAgIHRpbWVkT3V0UGVyaW9kc1xuICAgIH1cbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJhc3NpZ25tZW50c0FycmF5VG9PYmplY3QiLCJidWlsZENvbmZsaWN0TWF0cml4IiwiYnVpbGRHcmFwaCIsIm5vcm1hbGl6ZUNsYXNzZXMiLCJub3dNcyIsImdsb2JhbFRoaXMiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCJjYW5QbGFjZSIsImNsYXNzSW5kZXgiLCJvcHRpb25JbmRleCIsInNlbGVjdGVkIiwiY29uZmxpY3RNYXRyaXgiLCJlbnRyeSIsImdyZWVkeUZhbGxiYWNrIiwib3JkZXIiLCJjbGFzc2VzIiwibWF4Q2xhc3NlcyIsImxlbmd0aCIsIm9wdGlvbnMiLCJzY2hlZHVsZU9wdGlvbnMiLCJwdXNoIiwicGlja0Jlc3RQZXJpb2RTdWJzZXQiLCJlbGlnaWJsZSIsImdyYXBoIiwibWF4Q2xhc3Nlc1BlclBlcmlvZCIsInBlcmlvZFNlYXJjaFRpbWVMaW1pdE1zIiwic29ydCIsImEiLCJiIiwiZGVwdGhEaWZmIiwidGFpbERlcHRoIiwic3RhcnRlZEF0IiwidGltZWRPdXQiLCJiZXN0IiwiY291bnQiLCJzY29yZSIsInVwZGF0ZUJlc3QiLCJtYXAiLCJkZnMiLCJwb3NpdGlvbiIsInJlbWFpbmluZyIsInBvcCIsInNvbHZlV2l0aENyaXRpY2FsUGF0aEdyZWVkeSIsInJhd0NsYXNzZXMiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInBlcmlvZEJ5Q2xhc3MiLCJBcnJheSIsImZpbGwiLCJvcHRpb25CeUNsYXNzIiwiU2V0IiwiXyIsImluZGV4IiwiY29tcGxldGVkIiwicGVyaW9kIiwidGltZWRPdXRQZXJpb2RzIiwic2l6ZSIsInByZXJlcXNTYXRpc2ZpZWQiLCJwcmVyZXFJbmRpY2VzIiwiZXZlcnkiLCJwcmVyZXFJbmRleCIsImhhcyIsInN1Y2Nlc3MiLCJlcnJvciIsInBpY2siLCJhZGQiLCJkZWxldGUiLCJ0b3RhbFBlcmlvZHMiLCJNYXRoIiwibWF4IiwiYXNzaWdubWVudHMiLCJtZXRhIiwic29sdmVyIiwicnVudGltZU1zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../src/lib/algorithm/solvers/criticalPathGreedy.js\n");

/***/ }),

/***/ "(rsc)/../src/lib/algorithm/solvers/mipMinPeriods.js":
/*!*****************************************************!*\
  !*** ../src/lib/algorithm/solvers/mipMinPeriods.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   solveWithMipMinPeriods: () => (/* binding */ solveWithMipMinPeriods)\n/* harmony export */ });\n/* harmony import */ var glpk_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! glpk.js */ \"glpk.js\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node:path */ \"node:path\");\n/* harmony import */ var node_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:module */ \"node:module\");\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model.js */ \"(rsc)/../src/lib/algorithm/model.js\");\n/* harmony import */ var _criticalPathGreedy_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./criticalPathGreedy.js */ \"(rsc)/../src/lib/algorithm/solvers/criticalPathGreedy.js\");\n\n\n\n\n\n\nlet cachedGlpk = null;\nconst require = (0,node_module__WEBPACK_IMPORTED_MODULE_3__.createRequire)(\"file:///home/sam/dev/facu/schedule/planificador-horarios/src/lib/algorithm/solvers/mipMinPeriods.js\");\nfunction nowMs() {\n    return globalThis.performance?.now?.() ?? Date.now();\n}\nfunction getGlpk() {\n    if (!cachedGlpk) {\n        let wasmBinary = null;\n        const cwd = process.cwd();\n        const candidateWasmPaths = [\n            node_path__WEBPACK_IMPORTED_MODULE_2__.join(cwd, '../node_modules/glpk.js/dist/glpk.wasm'),\n            node_path__WEBPACK_IMPORTED_MODULE_2__.join(cwd, 'node_modules/glpk.js/dist/glpk.wasm')\n        ];\n        try {\n            const resolvedPath = require.resolve('glpk.js/dist/glpk.wasm');\n            candidateWasmPaths.push(resolvedPath);\n        } catch  {\n        // Keep candidates from cwd-based guesses.\n        }\n        for (const wasmPath of candidateWasmPaths){\n            try {\n                if (node_fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(wasmPath)) {\n                    const data = node_fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(wasmPath);\n                    wasmBinary = new Uint8Array(data);\n                    break;\n                }\n            } catch  {\n            // Try next path.\n            }\n        }\n        cachedGlpk = wasmBinary ? glpk_js__WEBPACK_IMPORTED_MODULE_0__(wasmBinary) : glpk_js__WEBPACK_IMPORTED_MODULE_0__();\n    }\n    return cachedGlpk;\n}\nfunction statusToLabel(glpk, status) {\n    if (status === glpk.GLP_OPT) return 'optimal';\n    if (status === glpk.GLP_FEAS) return 'feasible';\n    if (status === glpk.GLP_NOFEAS) return 'nofeas';\n    if (status === glpk.GLP_INFEAS) return 'infeas';\n    if (status === glpk.GLP_UNDEF) return 'undef';\n    if (status === glpk.GLP_UNBND) return 'unbounded';\n    return `status_${status}`;\n}\nfunction computeOptionWeeklyMinutesByClass(classes) {\n    return classes.map((cls)=>cls.scheduleOptions.map((option)=>option.blocks.reduce((total, block)=>total + (block.end - block.start), 0)));\n}\nfunction buildConflictPairs(classes, conflictMatrix) {\n    const pairs = [];\n    for(let classA = 0; classA < classes.length; classA += 1){\n        for(let optionA = 0; optionA < classes[classA].scheduleOptions.length; optionA += 1){\n            for(let classB = classA + 1; classB < classes.length; classB += 1){\n                for(let optionB = 0; optionB < classes[classB].scheduleOptions.length; optionB += 1){\n                    if (conflictMatrix[classA][optionA][classB][optionB]) {\n                        pairs.push({\n                            classA,\n                            optionA,\n                            classB,\n                            optionB\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return pairs;\n}\nfunction solveFeasibilityForHorizon({ glpk, classes, graph, conflictPairs, horizon, maxClassesPerPeriod, maxWeeklyMinutesPerPeriod, optionPenaltyByClass, optionWeeklyMinutesByClass, timeLimitMs }) {\n    const periodBounds = graph.rootDepth.map((earliest, classIndex)=>{\n        const latest = horizon - graph.tailDepth[classIndex] + 1;\n        return {\n            earliest,\n            latest\n        };\n    });\n    if (periodBounds.some((bound)=>bound.earliest > bound.latest)) {\n        return {\n            status: 'infeasible',\n            solved: true,\n            runtimeMs: 0,\n            constraintsCount: 0,\n            variablesCount: 0\n        };\n    }\n    const objectiveVars = [];\n    const binaries = [];\n    const classVariables = Array.from({\n        length: classes.length\n    }, ()=>[]);\n    const classOptionPeriodVariables = Array.from({\n        length: classes.length\n    }, ()=>[]);\n    const variablesByPeriod = Array.from({\n        length: horizon + 1\n    }, ()=>[]);\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        classOptionPeriodVariables[classIndex] = Array.from({\n            length: classes[classIndex].scheduleOptions.length\n        }, ()=>Array(horizon + 1).fill(null));\n        const bound = periodBounds[classIndex];\n        for(let optionIndex = 0; optionIndex < classes[classIndex].scheduleOptions.length; optionIndex += 1){\n            for(let period = bound.earliest; period <= bound.latest; period += 1){\n                const name = `x_${classIndex}_${optionIndex}_${period}`;\n                classVariables[classIndex].push({\n                    name,\n                    period\n                });\n                classOptionPeriodVariables[classIndex][optionIndex][period] = name;\n                variablesByPeriod[period].push(name);\n                binaries.push(name);\n                objectiveVars.push({\n                    name,\n                    coef: optionPenaltyByClass?.[classIndex]?.[optionIndex] ?? 0\n                });\n            }\n        }\n        if (classVariables[classIndex].length === 0) {\n            return {\n                status: 'infeasible',\n                solved: true,\n                runtimeMs: 0,\n                constraintsCount: 0,\n                variablesCount: binaries.length\n            };\n        }\n    }\n    const subjectTo = [];\n    let constraintId = 0;\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        subjectTo.push({\n            name: `c_${constraintId += 1}`,\n            vars: classVariables[classIndex].map((entry)=>({\n                    name: entry.name,\n                    coef: 1\n                })),\n            bnds: {\n                type: glpk.GLP_FX,\n                lb: 1,\n                ub: 1\n            }\n        });\n    }\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        for (const prereqIndex of graph.prereqIndices[classIndex]){\n            const vars = [];\n            for (const entry of classVariables[classIndex]){\n                vars.push({\n                    name: entry.name,\n                    coef: entry.period\n                });\n            }\n            for (const entry of classVariables[prereqIndex]){\n                vars.push({\n                    name: entry.name,\n                    coef: -entry.period\n                });\n            }\n            subjectTo.push({\n                name: `c_${constraintId += 1}`,\n                vars,\n                bnds: {\n                    type: glpk.GLP_LO,\n                    lb: 1,\n                    ub: 0\n                }\n            });\n        }\n    }\n    for(let period = 1; period <= horizon; period += 1){\n        for (const pair of conflictPairs){\n            const varA = classOptionPeriodVariables[pair.classA][pair.optionA][period];\n            const varB = classOptionPeriodVariables[pair.classB][pair.optionB][period];\n            if (!varA || !varB) {\n                continue;\n            }\n            subjectTo.push({\n                name: `c_${constraintId += 1}`,\n                vars: [\n                    {\n                        name: varA,\n                        coef: 1\n                    },\n                    {\n                        name: varB,\n                        coef: 1\n                    }\n                ],\n                bnds: {\n                    type: glpk.GLP_UP,\n                    ub: 1,\n                    lb: 0\n                }\n            });\n        }\n    }\n    if (Number.isFinite(maxClassesPerPeriod)) {\n        for(let period = 1; period <= horizon; period += 1){\n            const vars = variablesByPeriod[period].map((name)=>({\n                    name,\n                    coef: 1\n                }));\n            subjectTo.push({\n                name: `c_${constraintId += 1}`,\n                vars,\n                bnds: {\n                    type: glpk.GLP_UP,\n                    ub: maxClassesPerPeriod,\n                    lb: 0\n                }\n            });\n        }\n    }\n    if (Number.isFinite(maxWeeklyMinutesPerPeriod)) {\n        for(let period = 1; period <= horizon; period += 1){\n            const vars = [];\n            for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n                for(let optionIndex = 0; optionIndex < classes[classIndex].scheduleOptions.length; optionIndex += 1){\n                    const name = classOptionPeriodVariables[classIndex][optionIndex][period];\n                    if (!name) {\n                        continue;\n                    }\n                    const weeklyMinutes = optionWeeklyMinutesByClass?.[classIndex]?.[optionIndex] ?? 0;\n                    vars.push({\n                        name,\n                        coef: weeklyMinutes\n                    });\n                }\n            }\n            subjectTo.push({\n                name: `c_${constraintId += 1}`,\n                vars,\n                bnds: {\n                    type: glpk.GLP_UP,\n                    ub: maxWeeklyMinutesPerPeriod,\n                    lb: 0\n                }\n            });\n        }\n    }\n    const lp = {\n        name: `schedule_h${horizon}`,\n        objective: {\n            direction: glpk.GLP_MIN,\n            name: 'obj',\n            vars: objectiveVars\n        },\n        subjectTo,\n        binaries\n    };\n    const solverResult = glpk.solve(lp, {\n        msglev: glpk.GLP_MSG_OFF,\n        tmlim: Math.max(0.05, timeLimitMs / 1000),\n        mipgap: 0\n    });\n    const status = solverResult?.result?.status;\n    if (status === glpk.GLP_NOFEAS || status === glpk.GLP_INFEAS) {\n        return {\n            status: 'infeasible',\n            solved: true,\n            runtimeMs: solverResult.time * 1000,\n            constraintsCount: subjectTo.length,\n            variablesCount: binaries.length\n        };\n    }\n    if (status !== glpk.GLP_OPT && status !== glpk.GLP_FEAS) {\n        return {\n            status: 'unknown',\n            solved: false,\n            runtimeMs: solverResult.time * 1000,\n            constraintsCount: subjectTo.length,\n            variablesCount: binaries.length,\n            rawStatus: statusToLabel(glpk, status)\n        };\n    }\n    const vars = solverResult.result?.vars || {};\n    const periodByClass = Array(classes.length).fill(0);\n    const optionByClass = Array(classes.length).fill(-1);\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        let best = null;\n        for(let optionIndex = 0; optionIndex < classes[classIndex].scheduleOptions.length; optionIndex += 1){\n            for(let period = periodBounds[classIndex].earliest; period <= periodBounds[classIndex].latest; period += 1){\n                const name = classOptionPeriodVariables[classIndex][optionIndex][period];\n                if (!name) {\n                    continue;\n                }\n                const value = vars[name] || 0;\n                if (value > 0.5 && (!best || value > best.value)) {\n                    best = {\n                        optionIndex,\n                        period,\n                        value\n                    };\n                }\n            }\n        }\n        if (!best) {\n            return {\n                status: 'unknown',\n                solved: false,\n                runtimeMs: solverResult.time * 1000,\n                constraintsCount: subjectTo.length,\n                variablesCount: binaries.length,\n                rawStatus: 'missing_assignment'\n            };\n        }\n        periodByClass[classIndex] = best.period;\n        optionByClass[classIndex] = best.optionIndex;\n    }\n    return {\n        status: 'feasible',\n        solved: true,\n        runtimeMs: solverResult.time * 1000,\n        constraintsCount: subjectTo.length,\n        variablesCount: binaries.length,\n        assignments: (0,_model_js__WEBPACK_IMPORTED_MODULE_4__.assignmentsArrayToObject)(classes, periodByClass, optionByClass)\n    };\n}\nfunction solveWithMipMinPeriods(rawClasses, { timeoutMs = 4900, maxClassesPerPeriod = Number.POSITIVE_INFINITY, maxWeeklyMinutesPerPeriod = Number.POSITIVE_INFINITY, optionPenaltyByClass = null, optionWeeklyMinutesByClass = null, greedyPeriodSearchTimeLimitMs = 80 } = {}) {\n    const startedAt = nowMs();\n    const classes = (0,_model_js__WEBPACK_IMPORTED_MODULE_4__.normalizeClasses)(rawClasses);\n    if (classes.length === 0) {\n        return {\n            success: true,\n            assignments: {},\n            totalPeriods: 0,\n            meta: {\n                solver: 'mipMinPeriods',\n                runtimeMs: nowMs() - startedAt,\n                optimality: 'optimal_proven',\n                lowerBound: 0,\n                upperBound: 0,\n                horizonChecks: []\n            }\n        };\n    }\n    const graph = (0,_model_js__WEBPACK_IMPORTED_MODULE_4__.buildGraph)(classes);\n    const lowerBound = Math.max(...graph.rootDepth);\n    const weeklyMinutesByClass = optionWeeklyMinutesByClass ?? computeOptionWeeklyMinutesByClass(classes);\n    const greedy = (0,_criticalPathGreedy_js__WEBPACK_IMPORTED_MODULE_5__.solveWithCriticalPathGreedy)(classes, {\n        maxClassesPerPeriod,\n        periodSearchTimeLimitMs: greedyPeriodSearchTimeLimitMs\n    });\n    if (!greedy.success) {\n        return {\n            success: false,\n            error: `Greedy bootstrap failed: ${greedy.error || 'unknown error'}`,\n            meta: {\n                solver: 'mipMinPeriods',\n                runtimeMs: nowMs() - startedAt\n            }\n        };\n    }\n    const greedyUpperBound = greedy.totalPeriods;\n    const hasWeeklyHoursCap = Number.isFinite(maxWeeklyMinutesPerPeriod);\n    const searchUpperBound = hasWeeklyHoursCap ? classes.length : greedyUpperBound;\n    const hasPenaltyObjective = Array.isArray(optionPenaltyByClass) && optionPenaltyByClass.some((penalties)=>penalties.some((value)=>value !== 0));\n    const includeUpperBoundInSearch = hasWeeklyHoursCap || hasPenaltyObjective;\n    const conflictMatrix = (0,_model_js__WEBPACK_IMPORTED_MODULE_4__.buildConflictMatrix)(classes);\n    const conflictPairs = buildConflictPairs(classes, conflictMatrix);\n    const glpk = getGlpk();\n    const horizonChecks = [];\n    let fallbackFeasible = null;\n    if (!hasWeeklyHoursCap && !hasPenaltyObjective) {\n        fallbackFeasible = {\n            assignments: greedy.assignments,\n            totalPeriods: greedy.totalPeriods\n        };\n    }\n    const horizonEnd = includeUpperBoundInSearch ? searchUpperBound : searchUpperBound - 1;\n    for(let horizon = lowerBound; horizon <= horizonEnd; horizon += 1){\n        const elapsed = nowMs() - startedAt;\n        const remainingMs = timeoutMs - elapsed;\n        if (remainingMs <= 0) {\n            if (!fallbackFeasible) {\n                return {\n                    success: false,\n                    error: 'MIP solver timed out before finding a feasible schedule',\n                    meta: {\n                        solver: 'mipMinPeriods',\n                        runtimeMs: nowMs() - startedAt,\n                        lowerBound,\n                        upperBound: searchUpperBound,\n                        greedyUpperBound,\n                        horizonChecks,\n                        unresolvedHorizons: [\n                            horizon\n                        ]\n                    }\n                };\n            }\n            return {\n                success: true,\n                assignments: fallbackFeasible.assignments,\n                totalPeriods: fallbackFeasible.totalPeriods,\n                meta: {\n                    solver: 'mipMinPeriods',\n                    runtimeMs: nowMs() - startedAt,\n                    optimality: 'feasible_not_proven',\n                    lowerBound,\n                    upperBound: searchUpperBound,\n                    greedyUpperBound,\n                    horizonChecks,\n                    unresolvedHorizons: [\n                        horizon\n                    ]\n                }\n            };\n        }\n        const check = solveFeasibilityForHorizon({\n            glpk,\n            classes,\n            graph,\n            conflictPairs,\n            horizon,\n            maxClassesPerPeriod,\n            maxWeeklyMinutesPerPeriod,\n            optionPenaltyByClass,\n            optionWeeklyMinutesByClass: weeklyMinutesByClass,\n            timeLimitMs: remainingMs\n        });\n        horizonChecks.push({\n            horizon,\n            status: check.status,\n            runtimeMs: check.runtimeMs,\n            constraintsCount: check.constraintsCount,\n            variablesCount: check.variablesCount,\n            rawStatus: check.rawStatus\n        });\n        if (check.status === 'feasible') {\n            return {\n                success: true,\n                assignments: check.assignments,\n                totalPeriods: horizon,\n                meta: {\n                    solver: 'mipMinPeriods',\n                    runtimeMs: nowMs() - startedAt,\n                    optimality: 'optimal_proven',\n                    lowerBound,\n                    upperBound: searchUpperBound,\n                    greedyUpperBound,\n                    horizonChecks\n                }\n            };\n        }\n        if (check.status === 'unknown') {\n            if (!fallbackFeasible) {\n                return {\n                    success: false,\n                    error: `MIP solver returned unknown status at horizon ${horizon}`,\n                    meta: {\n                        solver: 'mipMinPeriods',\n                        runtimeMs: nowMs() - startedAt,\n                        lowerBound,\n                        upperBound: searchUpperBound,\n                        greedyUpperBound,\n                        horizonChecks,\n                        unresolvedHorizons: [\n                            horizon\n                        ]\n                    }\n                };\n            }\n            return {\n                success: true,\n                assignments: fallbackFeasible.assignments,\n                totalPeriods: fallbackFeasible.totalPeriods,\n                meta: {\n                    solver: 'mipMinPeriods',\n                    runtimeMs: nowMs() - startedAt,\n                    optimality: 'feasible_not_proven',\n                    lowerBound,\n                    upperBound: searchUpperBound,\n                    greedyUpperBound,\n                    horizonChecks,\n                    unresolvedHorizons: [\n                        horizon\n                    ]\n                }\n            };\n        }\n    }\n    if (!fallbackFeasible) {\n        return {\n            success: false,\n            error: 'No feasible schedule satisfies the constraints',\n            meta: {\n                solver: 'mipMinPeriods',\n                runtimeMs: nowMs() - startedAt,\n                lowerBound,\n                upperBound: searchUpperBound,\n                greedyUpperBound,\n                horizonChecks\n            }\n        };\n    }\n    return {\n        success: true,\n        assignments: fallbackFeasible.assignments,\n        totalPeriods: fallbackFeasible.totalPeriods,\n        meta: {\n            solver: 'mipMinPeriods',\n            runtimeMs: nowMs() - startedAt,\n            optimality: hasWeeklyHoursCap || hasPenaltyObjective ? 'feasible_not_proven' : 'optimal_proven',\n            lowerBound,\n            upperBound: searchUpperBound,\n            greedyUpperBound,\n            horizonChecks\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vc3JjL2xpYi9hbGdvcml0aG0vc29sdmVycy9taXBNaW5QZXJpb2RzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkI7QUFDRjtBQUNJO0FBQ2U7QUFPdkI7QUFDaUQ7QUFFdEUsSUFBSVMsYUFBYTtBQUNqQixNQUFNQyxVQUFVUCwwREFBYUEsQ0FBQyxxR0FBZTtBQUU3QyxTQUFTUztJQUNQLE9BQU9DLFdBQVdDLFdBQVcsRUFBRUMsV0FBV0MsS0FBS0QsR0FBRztBQUNwRDtBQUVBLFNBQVNFO0lBQ1AsSUFBSSxDQUFDUixZQUFZO1FBQ2YsSUFBSVMsYUFBYTtRQUNqQixNQUFNQyxNQUFNQyxRQUFRRCxHQUFHO1FBRXZCLE1BQU1FLHFCQUFxQjtZQUN6Qm5CLDJDQUFTLENBQUNpQixLQUFLO1lBQ2ZqQiwyQ0FBUyxDQUFDaUIsS0FBSztTQUNoQjtRQUVELElBQUk7WUFDRixNQUFNSSxlQUFlYixRQUFRYyxPQUFPLENBQUM7WUFDckNILG1CQUFtQkksSUFBSSxDQUFDRjtRQUMxQixFQUFFLE9BQU07UUFDTiwwQ0FBMEM7UUFDNUM7UUFFQSxLQUFLLE1BQU1HLFlBQVlMLG1CQUFvQjtZQUN6QyxJQUFJO2dCQUNGLElBQUlwQiwrQ0FBYSxDQUFDeUIsV0FBVztvQkFDM0IsTUFBTUUsT0FBTzNCLGlEQUFlLENBQUN5QjtvQkFDN0JSLGFBQWEsSUFBSVksV0FBV0Y7b0JBQzVCO2dCQUNGO1lBQ0YsRUFBRSxPQUFNO1lBQ04saUJBQWlCO1lBQ25CO1FBQ0Y7UUFFQW5CLGFBQWFTLGFBQWFsQixvQ0FBSUEsQ0FBQ2tCLGNBQWNsQixvQ0FBSUE7SUFDbkQ7SUFDQSxPQUFPUztBQUNUO0FBRUEsU0FBU3NCLGNBQWNDLElBQUksRUFBRUMsTUFBTTtJQUNqQyxJQUFJQSxXQUFXRCxLQUFLRSxPQUFPLEVBQUUsT0FBTztJQUNwQyxJQUFJRCxXQUFXRCxLQUFLRyxRQUFRLEVBQUUsT0FBTztJQUNyQyxJQUFJRixXQUFXRCxLQUFLSSxVQUFVLEVBQUUsT0FB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LGlCQUFpQmxCLFlBQVk7UUFDM0NDLE1BQU07WUFDSkMsUUFBUTtZQUNSL0QsV0FBV2xFLFVBQVU2SDtZQUNyQkssWUFBWVMscUJBQXFCRSxzQkFBc0Isd0JBQXdCO1lBQy9FVjtZQUNBQyxZQUFZUTtZQUNaRjtZQUNBTDtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvc2FtL2Rldi9mYWN1L3NjaGVkdWxlL3BsYW5pZmljYWRvci1ob3Jhcmlvcy9zcmMvbGliL2FsZ29yaXRobS9zb2x2ZXJzL21pcE1pblBlcmlvZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdMUEsgZnJvbSAnZ2xway5qcyc7XG5pbXBvcnQgZnMgZnJvbSAnbm9kZTpmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHsgY3JlYXRlUmVxdWlyZSB9IGZyb20gJ25vZGU6bW9kdWxlJztcblxuaW1wb3J0IHtcbiAgYXNzaWdubWVudHNBcnJheVRvT2JqZWN0LFxuICBidWlsZENvbmZsaWN0TWF0cml4LFxuICBidWlsZEdyYXBoLFxuICBub3JtYWxpemVDbGFzc2VzXG59IGZyb20gJy4uL21vZGVsLmpzJztcbmltcG9ydCB7IHNvbHZlV2l0aENyaXRpY2FsUGF0aEdyZWVkeSB9IGZyb20gJy4vY3JpdGljYWxQYXRoR3JlZWR5LmpzJztcblxubGV0IGNhY2hlZEdscGsgPSBudWxsO1xuY29uc3QgcmVxdWlyZSA9IGNyZWF0ZVJlcXVpcmUoaW1wb3J0Lm1ldGEudXJsKTtcblxuZnVuY3Rpb24gbm93TXMoKSB7XG4gIHJldHVybiBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlPy5ub3c/LigpID8/IERhdGUubm93KCk7XG59XG5cbmZ1bmN0aW9uIGdldEdscGsoKSB7XG4gIGlmICghY2FjaGVkR2xwaykge1xuICAgIGxldCB3YXNtQmluYXJ5ID0gbnVsbDtcbiAgICBjb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgY29uc3QgY2FuZGlkYXRlV2FzbVBhdGhzID0gW1xuICAgICAgcGF0aC5qb2luKGN3ZCwgJy4uL25vZGVfbW9kdWxlcy9nbHBrLmpzL2Rpc3QvZ2xway53YXNtJyksXG4gICAgICBwYXRoLmpvaW4oY3dkLCAnbm9kZV9tb2R1bGVzL2dscGsuanMvZGlzdC9nbHBrLndhc20nKVxuICAgIF07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gcmVxdWlyZS5yZXNvbHZlKCdnbHBrLmpzL2Rpc3QvZ2xway53YXNtJyk7XG4gICAgICBjYW5kaWRhdGVXYXNtUGF0aHMucHVzaChyZXNvbHZlZFBhdGgpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gS2VlcCBjYW5kaWRhdGVzIGZyb20gY3dkLWJhc2VkIGd1ZXNzZXMuXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB3YXNtUGF0aCBvZiBjYW5kaWRhdGVXYXNtUGF0aHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHdhc21QYXRoKSkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMod2FzbVBhdGgpO1xuICAgICAgICAgIHdhc21CaW5hcnkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFRyeSBuZXh0IHBhdGguXG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FjaGVkR2xwayA9IHdhc21CaW5hcnkgPyBHTFBLKHdhc21CaW5hcnkpIDogR0xQSygpO1xuICB9XG4gIHJldHVybiBjYWNoZWRHbHBrO1xufVxuXG5mdW5jdGlvbiBzdGF0dXNUb0xhYmVsKGdscGssIHN0YXR1cykge1xuICBpZiAoc3RhdHVzID09PSBnbHBrLkdMUF9PUFQpIHJldHVybiAnb3B0aW1hbCc7XG4gIGlmIChzdGF0dXMgPT09IGdscGsuR0xQX0ZFQVMpIHJldHVybiAnZmVhc2libGUnO1xuICBpZiAoc3RhdHVzID09PSBnbHBrLkdMUF9OT0ZFQVMpIHJldHVybiAnbm9mZWFzJztcbiAgaWYgKHN0YXR1cyA9PT0gZ2xway5HTFBfSU5GRUFTKSByZXR1cm4gJ2luZmVhcyc7XG4gIGlmIChzdGF0dXMgPT09IGdscGsuR0xQX1VOREVGKSByZXR1cm4gJ3VuZGVmJztcbiAgaWYgKHN0YXR1cyA9PT0gZ2xway5HTFBfVU5CTkQpIHJldHVybiAndW5ib3VuZGVkJztcbiAgcmV0dXJuIGBzdGF0dXNfJHtzdGF0dXN9YDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZU9wdGlvbldlZWtseU1pbnV0ZXNCeUNsYXNzKGNsYXNzZXMpIHtcbiAgcmV0dXJuIGNsYXNzZXMubWFwKChjbHMpID0+XG4gICAgY2xzLnNjaGVkdWxlT3B0aW9ucy5tYXAoKG9wdGlvbikgPT5cbiAgICAgIG9wdGlvbi5ibG9ja3MucmVkdWNlKCh0b3RhbCwgYmxvY2spID0+IHRvdGFsICsgKGJsb2NrLmVuZCAtIGJsb2NrLnN0YXJ0KSwgMClcbiAgICApXG4gICk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29uZmxpY3RQYWlycyhjbGFzc2VzLCBjb25mbGljdE1hdHJpeCkge1xuICBjb25zdCBwYWlycyA9IFtdO1xuXG4gIGZvciAobGV0IGNsYXNzQSA9IDA7IGNsYXNzQSA8IGNsYXNzZXMubGVuZ3RoOyBjbGFzc0EgKz0gMSkge1xuICAgIGZvciAobGV0IG9wdGlvbkEgPSAwOyBvcHRpb25BIDwgY2xhc3Nlc1tjbGFzc0FdLnNjaGVkdWxlT3B0aW9ucy5sZW5ndGg7IG9wdGlvbkEgKz0gMSkge1xuICAgICAgZm9yIChsZXQgY2xhc3NCID0gY2xhc3NBICsgMTsgY2xhc3NCIDwgY2xhc3Nlcy5sZW5ndGg7IGNsYXNzQiArPSAxKSB7XG4gICAgICAgIGZvciAobGV0IG9wdGlvbkIgPSAwOyBvcHRpb25CIDwgY2xhc3Nlc1tjbGFzc0JdLnNjaGVkdWxlT3B0aW9ucy5sZW5ndGg7IG9wdGlvbkIgKz0gMSkge1xuICAgICAgICAgIGlmIChjb25mbGljdE1hdHJpeFtjbGFzc0FdW29wdGlvbkFdW2NsYXNzQl1bb3B0aW9uQl0pIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goeyBjbGFzc0EsIG9wdGlvbkEsIGNsYXNzQiwgb3B0aW9uQiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFpcnM7XG59XG5cbmZ1bmN0aW9uIHNvbHZlRmVhc2liaWxpdHlGb3JIb3Jpem9uKHtcbiAgZ2xwayxcbiAgY2xhc3NlcyxcbiAgZ3JhcGgsXG4gIGNvbmZsaWN0UGFpcnMsXG4gIGhvcml6b24sXG4gIG1heENsYXNzZXNQZXJQZXJpb2QsXG4gIG1heFdlZWtseU1pbnV0ZXNQZXJQZXJpb2QsXG4gIG9wdGlvblBlbmFsdHlCeUNsYXNzLFxuICBvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzcyxcbiAgdGltZUxpbWl0TXNcbn0pIHtcbiAgY29uc3QgcGVyaW9kQm91bmRzID0gZ3JhcGgucm9vdERlcHRoLm1hcCgoZWFybGllc3QsIGNsYXNzSW5kZXgpID0+IHtcbiAgICBjb25zdCBsYXRlc3QgPSBob3Jpem9uIC0gZ3JhcGgudGFpbERlcHRoW2NsYXNzSW5kZXhdICsgMTtcbiAgICByZXR1cm4geyBlYXJsaWVzdCwgbGF0ZXN0IH07XG4gIH0pO1xuXG4gIGlmIChwZXJpb2RCb3VuZHMuc29tZSgoYm91bmQpID0+IGJvdW5kLmVhcmxpZXN0ID4gYm91bmQubGF0ZXN0KSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdpbmZlYXNpYmxlJyxcbiAgICAgIHNvbHZlZDogdHJ1ZSxcbiAgICAgIHJ1bnRpbWVNczogMCxcbiAgICAgIGNvbnN0cmFpbnRzQ291bnQ6IDAsXG4gICAgICB2YXJpYWJsZXNDb3VudDogMFxuICAgIH07XG4gIH1cblxuICBjb25zdCBvYmplY3RpdmVWYXJzID0gW107XG4gIGNvbnN0IGJpbmFyaWVzID0gW107XG4gIGNvbnN0IGNsYXNzVmFyaWFibGVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogY2xhc3Nlcy5sZW5ndGggfSwgKCkgPT4gW10pO1xuICBjb25zdCBjbGFzc09wdGlvblBlcmlvZFZhcmlhYmxlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGNsYXNzZXMubGVuZ3RoIH0sICgpID0+IFtdKTtcbiAgY29uc3QgdmFyaWFibGVzQnlQZXJpb2QgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBob3Jpem9uICsgMSB9LCAoKSA9PiBbXSk7XG5cbiAgZm9yIChsZXQgY2xhc3NJbmRleCA9IDA7IGNsYXNzSW5kZXggPCBjbGFzc2VzLmxlbmd0aDsgY2xhc3NJbmRleCArPSAxKSB7XG4gICAgY2xhc3NPcHRpb25QZXJpb2RWYXJpYWJsZXNbY2xhc3NJbmRleF0gPSBBcnJheS5mcm9tKFxuICAgICAgeyBsZW5ndGg6IGNsYXNzZXNbY2xhc3NJbmRleF0uc2NoZWR1bGVPcHRpb25zLmxlbmd0aCB9LFxuICAgICAgKCkgPT4gQXJyYXkoaG9yaXpvbiArIDEpLmZpbGwobnVsbClcbiAgICApO1xuXG4gICAgY29uc3QgYm91bmQgPSBwZXJpb2RCb3VuZHNbY2xhc3NJbmRleF07XG5cbiAgICBmb3IgKGxldCBvcHRpb25JbmRleCA9IDA7IG9wdGlvbkluZGV4IDwgY2xhc3Nlc1tjbGFzc0luZGV4XS5zY2hlZHVsZU9wdGlvbnMubGVuZ3RoOyBvcHRpb25JbmRleCArPSAxKSB7XG4gICAgICBmb3IgKGxldCBwZXJpb2QgPSBib3VuZC5lYXJsaWVzdDsgcGVyaW9kIDw9IGJvdW5kLmxhdGVzdDsgcGVyaW9kICs9IDEpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGB4XyR7Y2xhc3NJbmRleH1fJHtvcHRpb25JbmRleH1fJHtwZXJpb2R9YDtcbiAgICAgICAgY2xhc3NWYXJpYWJsZXNbY2xhc3NJbmRleF0ucHVzaCh7IG5hbWUsIHBlcmlvZCB9KTtcbiAgICAgICAgY2xhc3NPcHRpb25QZXJpb2RWYXJpYWJsZXNbY2xhc3NJbmRleF1bb3B0aW9uSW5kZXhdW3BlcmlvZF0gPSBuYW1lO1xuICAgICAgICB2YXJpYWJsZXNCeVBlcmlvZFtwZXJpb2RdLnB1c2gobmFtZSk7XG4gICAgICAgIGJpbmFyaWVzLnB1c2gobmFtZSk7XG4gICAgICAgIG9iamVjdGl2ZVZhcnMucHVzaCh7IG5hbWUsIGNvZWY6IG9wdGlvblBlbmFsdHlCeUNsYXNzPy5bY2xhc3NJbmRleF0/LltvcHRpb25JbmRleF0gPz8gMCB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xhc3NWYXJpYWJsZXNbY2xhc3NJbmRleF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6ICdpbmZlYXNpYmxlJyxcbiAgICAgICAgc29sdmVkOiB0cnVlLFxuICAgICAgICBydW50aW1lTXM6IDAsXG4gICAgICAgIGNvbnN0cmFpbnRzQ291bnQ6IDAsXG4gICAgICAgIHZhcmlhYmxlc0NvdW50OiBiaW5hcmllcy5sZW5ndGhcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3ViamVjdFRvID0gW107XG4gIGxldCBjb25zdHJhaW50SWQgPSAwO1xuXG4gIGZvciAobGV0IGNsYXNzSW5kZXggPSAwOyBjbGFzc0luZGV4IDwgY2xhc3Nlcy5sZW5ndGg7IGNsYXNzSW5kZXggKz0gMSkge1xuICAgIHN1YmplY3RUby5wdXNoKHtcbiAgICAgIG5hbWU6IGBjXyR7Y29uc3RyYWludElkICs9IDF9YCxcbiAgICAgIHZhcnM6IGNsYXNzVmFyaWFibGVzW2NsYXNzSW5kZXhdLm1hcCgoZW50cnkpID0+ICh7IG5hbWU6IGVudHJ5Lm5hbWUsIGNvZWY6IDEgfSkpLFxuICAgICAgYm5kczogeyB0eXBlOiBnbHBrLkdMUF9GWCwgbGI6IDEsIHViOiAxIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAobGV0IGNsYXNzSW5kZXggPSAwOyBjbGFzc0luZGV4IDwgY2xhc3Nlcy5sZW5ndGg7IGNsYXNzSW5kZXggKz0gMSkge1xuICAgIGZvciAoY29uc3QgcHJlcmVxSW5kZXggb2YgZ3JhcGgucHJlcmVxSW5kaWNlc1tjbGFzc0luZGV4XSkge1xuICAgICAgY29uc3QgdmFycyA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGNsYXNzVmFyaWFibGVzW2NsYXNzSW5kZXhdKSB7XG4gICAgICAgIHZhcnMucHVzaCh7IG5hbWU6IGVudHJ5Lm5hbWUsIGNvZWY6IGVudHJ5LnBlcmlvZCB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBjbGFzc1ZhcmlhYmxlc1twcmVyZXFJbmRleF0pIHtcbiAgICAgICAgdmFycy5wdXNoKHsgbmFtZTogZW50cnkubmFtZSwgY29lZjogLWVudHJ5LnBlcmlvZCB9KTtcbiAgICAgIH1cblxuICAgICAgc3ViamVjdFRvLnB1c2goe1xuICAgICAgICBuYW1lOiBgY18ke2NvbnN0cmFpbnRJZCArPSAxfWAsXG4gICAgICAgIHZhcnMsXG4gICAgICAgIGJuZHM6IHsgdHlwZTogZ2xway5HTFBfTE8sIGxiOiAxLCB1YjogMCB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBwZXJpb2QgPSAxOyBwZXJpb2QgPD0gaG9yaXpvbjsgcGVyaW9kICs9IDEpIHtcbiAgICBmb3IgKGNvbnN0IHBhaXIgb2YgY29uZmxpY3RQYWlycykge1xuICAgICAgY29uc3QgdmFyQSA9IGNsYXNzT3B0aW9uUGVyaW9kVmFyaWFibGVzW3BhaXIuY2xhc3NBXVtwYWlyLm9wdGlvbkFdW3BlcmlvZF07XG4gICAgICBjb25zdCB2YXJCID0gY2xhc3NPcHRpb25QZXJpb2RWYXJpYWJsZXNbcGFpci5jbGFzc0JdW3BhaXIub3B0aW9uQl1bcGVyaW9kXTtcblxuICAgICAgaWYgKCF2YXJBIHx8ICF2YXJCKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBzdWJqZWN0VG8ucHVzaCh7XG4gICAgICAgIG5hbWU6IGBjXyR7Y29uc3RyYWludElkICs9IDF9YCxcbiAgICAgICAgdmFyczogW1xuICAgICAgICAgIHsgbmFtZTogdmFyQSwgY29lZjogMSB9LFxuICAgICAgICAgIHsgbmFtZTogdmFyQiwgY29lZjogMSB9XG4gICAgICAgIF0sXG4gICAgICAgIGJuZHM6IHsgdHlwZTogZ2xway5HTFBfVVAsIHViOiAxLCBsYjogMCB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoTnVtYmVyLmlzRmluaXRlKG1heENsYXNzZXNQZXJQZXJpb2QpKSB7XG4gICAgZm9yIChsZXQgcGVyaW9kID0gMTsgcGVyaW9kIDw9IGhvcml6b247IHBlcmlvZCArPSAxKSB7XG4gICAgICBjb25zdCB2YXJzID0gdmFyaWFibGVzQnlQZXJpb2RbcGVyaW9kXS5tYXAoKG5hbWUpID0+ICh7IG5hbWUsIGNvZWY6IDEgfSkpO1xuICAgICAgc3ViamVjdFRvLnB1c2goe1xuICAgICAgICBuYW1lOiBgY18ke2NvbnN0cmFpbnRJZCArPSAxfWAsXG4gICAgICAgIHZhcnMsXG4gICAgICAgIGJuZHM6IHsgdHlwZTogZ2xway5HTFBfVVAsIHViOiBtYXhDbGFzc2VzUGVyUGVyaW9kLCBsYjogMCB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoTnVtYmVyLmlzRmluaXRlKG1heFdlZWtseU1pbnV0ZXNQZXJQZXJpb2QpKSB7XG4gICAgZm9yIChsZXQgcGVyaW9kID0gMTsgcGVyaW9kIDw9IGhvcml6b247IHBlcmlvZCArPSAxKSB7XG4gICAgICBjb25zdCB2YXJzID0gW107XG5cbiAgICAgIGZvciAobGV0IGNsYXNzSW5kZXggPSAwOyBjbGFzc0luZGV4IDwgY2xhc3Nlcy5sZW5ndGg7IGNsYXNzSW5kZXggKz0gMSkge1xuICAgICAgICBmb3IgKGxldCBvcHRpb25JbmRleCA9IDA7IG9wdGlvbkluZGV4IDwgY2xhc3Nlc1tjbGFzc0luZGV4XS5zY2hlZHVsZU9wdGlvbnMubGVuZ3RoOyBvcHRpb25JbmRleCArPSAxKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IGNsYXNzT3B0aW9uUGVyaW9kVmFyaWFibGVzW2NsYXNzSW5kZXhdW29wdGlvbkluZGV4XVtwZXJpb2RdO1xuICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgd2Vla2x5TWludXRlcyA9IG9wdGlvbldlZWtseU1pbnV0ZXNCeUNsYXNzPy5bY2xhc3NJbmRleF0/LltvcHRpb25JbmRleF0gPz8gMDtcbiAgICAgICAgICB2YXJzLnB1c2goeyBuYW1lLCBjb2VmOiB3ZWVrbHlNaW51dGVzIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN1YmplY3RUby5wdXNoKHtcbiAgICAgICAgbmFtZTogYGNfJHtjb25zdHJhaW50SWQgKz0gMX1gLFxuICAgICAgICB2YXJzLFxuICAgICAgICBibmRzOiB7IHR5cGU6IGdscGsuR0xQX1VQLCB1YjogbWF4V2Vla2x5TWludXRlc1BlclBlcmlvZCwgbGI6IDAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbHAgPSB7XG4gICAgbmFtZTogYHNjaGVkdWxlX2gke2hvcml6b259YCxcbiAgICBvYmplY3RpdmU6IHtcbiAgICAgIGRpcmVjdGlvbjogZ2xway5HTFBfTUlOLFxuICAgICAgbmFtZTogJ29iaicsXG4gICAgICB2YXJzOiBvYmplY3RpdmVWYXJzXG4gICAgfSxcbiAgICBzdWJqZWN0VG8sXG4gICAgYmluYXJpZXNcbiAgfTtcblxuICBjb25zdCBzb2x2ZXJSZXN1bHQgPSBnbHBrLnNvbHZlKGxwLCB7XG4gICAgbXNnbGV2OiBnbHBrLkdMUF9NU0dfT0ZGLFxuICAgIHRtbGltOiBNYXRoLm1heCgwLjA1LCB0aW1lTGltaXRNcyAvIDEwMDApLFxuICAgIG1pcGdhcDogMFxuICB9KTtcblxuICBjb25zdCBzdGF0dXMgPSBzb2x2ZXJSZXN1bHQ/LnJlc3VsdD8uc3RhdHVzO1xuXG4gIGlmIChzdGF0dXMgPT09IGdscGsuR0xQX05PRkVBUyB8fCBzdGF0dXMgPT09IGdscGsuR0xQX0lORkVBUykge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdpbmZlYXNpYmxlJyxcbiAgICAgIHNvbHZlZDogdHJ1ZSxcbiAgICAgIHJ1bnRpbWVNczogc29sdmVyUmVzdWx0LnRpbWUgKiAxMDAwLFxuICAgICAgY29uc3RyYWludHNDb3VudDogc3ViamVjdFRvLmxlbmd0aCxcbiAgICAgIHZhcmlhYmxlc0NvdW50OiBiaW5hcmllcy5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgaWYgKHN0YXR1cyAhPT0gZ2xway5HTFBfT1BUICYmIHN0YXR1cyAhPT0gZ2xway5HTFBfRkVBUykge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICd1bmtub3duJyxcbiAgICAgIHNvbHZlZDogZmFsc2UsXG4gICAgICBydW50aW1lTXM6IHNvbHZlclJlc3VsdC50aW1lICogMTAwMCxcbiAgICAgIGNvbnN0cmFpbnRzQ291bnQ6IHN1YmplY3RUby5sZW5ndGgsXG4gICAgICB2YXJpYWJsZXNDb3VudDogYmluYXJpZXMubGVuZ3RoLFxuICAgICAgcmF3U3RhdHVzOiBzdGF0dXNUb0xhYmVsKGdscGssIHN0YXR1cylcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdmFycyA9IHNvbHZlclJlc3VsdC5yZXN1bHQ/LnZhcnMgfHwge307XG4gIGNvbnN0IHBlcmlvZEJ5Q2xhc3MgPSBBcnJheShjbGFzc2VzLmxlbmd0aCkuZmlsbCgwKTtcbiAgY29uc3Qgb3B0aW9uQnlDbGFzcyA9IEFycmF5KGNsYXNzZXMubGVuZ3RoKS5maWxsKC0xKTtcblxuICBmb3IgKGxldCBjbGFzc0luZGV4ID0gMDsgY2xhc3NJbmRleCA8IGNsYXNzZXMubGVuZ3RoOyBjbGFzc0luZGV4ICs9IDEpIHtcbiAgICBsZXQgYmVzdCA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBvcHRpb25JbmRleCA9IDA7IG9wdGlvbkluZGV4IDwgY2xhc3Nlc1tjbGFzc0luZGV4XS5zY2hlZHVsZU9wdGlvbnMubGVuZ3RoOyBvcHRpb25JbmRleCArPSAxKSB7XG4gICAgICBmb3IgKGxldCBwZXJpb2QgPSBwZXJpb2RCb3VuZHNbY2xhc3NJbmRleF0uZWFybGllc3Q7IHBlcmlvZCA8PSBwZXJpb2RCb3VuZHNbY2xhc3NJbmRleF0ubGF0ZXN0OyBwZXJpb2QgKz0gMSkge1xuICAgICAgICBjb25zdCBuYW1lID0gY2xhc3NPcHRpb25QZXJpb2RWYXJpYWJsZXNbY2xhc3NJbmRleF1bb3B0aW9uSW5kZXhdW3BlcmlvZF07XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YXJzW25hbWVdIHx8IDA7XG4gICAgICAgIGlmICh2YWx1ZSA+IDAuNSAmJiAoIWJlc3QgfHwgdmFsdWUgPiBiZXN0LnZhbHVlKSkge1xuICAgICAgICAgIGJlc3QgPSB7IG9wdGlvbkluZGV4LCBwZXJpb2QsIHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWJlc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ3Vua25vd24nLFxuICAgICAgICBzb2x2ZWQ6IGZhbHNlLFxuICAgICAgICBydW50aW1lTXM6IHNvbHZlclJlc3VsdC50aW1lICogMTAwMCxcbiAgICAgICAgY29uc3RyYWludHNDb3VudDogc3ViamVjdFRvLmxlbmd0aCxcbiAgICAgICAgdmFyaWFibGVzQ291bnQ6IGJpbmFyaWVzLmxlbmd0aCxcbiAgICAgICAgcmF3U3RhdHVzOiAnbWlzc2luZ19hc3NpZ25tZW50J1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBwZXJpb2RCeUNsYXNzW2NsYXNzSW5kZXhdID0gYmVzdC5wZXJpb2Q7XG4gICAgb3B0aW9uQnlDbGFzc1tjbGFzc0luZGV4XSA9IGJlc3Qub3B0aW9uSW5kZXg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXR1czogJ2ZlYXNpYmxlJyxcbiAgICBzb2x2ZWQ6IHRydWUsXG4gICAgcnVudGltZU1zOiBzb2x2ZXJSZXN1bHQudGltZSAqIDEwMDAsXG4gICAgY29uc3RyYWludHNDb3VudDogc3ViamVjdFRvLmxlbmd0aCxcbiAgICB2YXJpYWJsZXNDb3VudDogYmluYXJpZXMubGVuZ3RoLFxuICAgIGFzc2lnbm1lbnRzOiBhc3NpZ25tZW50c0FycmF5VG9PYmplY3QoY2xhc3NlcywgcGVyaW9kQnlDbGFzcywgb3B0aW9uQnlDbGFzcylcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlV2l0aE1pcE1pblBlcmlvZHMocmF3Q2xhc3Nlcywge1xuICB0aW1lb3V0TXMgPSA0XzkwMCxcbiAgbWF4Q2xhc3Nlc1BlclBlcmlvZCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgbWF4V2Vla2x5TWludXRlc1BlclBlcmlvZCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgb3B0aW9uUGVuYWx0eUJ5Q2xhc3MgPSBudWxsLFxuICBvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzcyA9IG51bGwsXG4gIGdyZWVkeVBlcmlvZFNlYXJjaFRpbWVMaW1pdE1zID0gODBcbn0gPSB7fSkge1xuICBjb25zdCBzdGFydGVkQXQgPSBub3dNcygpO1xuICBjb25zdCBjbGFzc2VzID0gbm9ybWFsaXplQ2xhc3NlcyhyYXdDbGFzc2VzKTtcblxuICBpZiAoY2xhc3Nlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGFzc2lnbm1lbnRzOiB7fSxcbiAgICAgIHRvdGFsUGVyaW9kczogMCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgIHJ1bnRpbWVNczogbm93TXMoKSAtIHN0YXJ0ZWRBdCxcbiAgICAgICAgb3B0aW1hbGl0eTogJ29wdGltYWxfcHJvdmVuJyxcbiAgICAgICAgbG93ZXJCb3VuZDogMCxcbiAgICAgICAgdXBwZXJCb3VuZDogMCxcbiAgICAgICAgaG9yaXpvbkNoZWNrczogW11cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY29uc3QgZ3JhcGggPSBidWlsZEdyYXBoKGNsYXNzZXMpO1xuICBjb25zdCBsb3dlckJvdW5kID0gTWF0aC5tYXgoLi4uZ3JhcGgucm9vdERlcHRoKTtcbiAgY29uc3Qgd2Vla2x5TWludXRlc0J5Q2xhc3MgPSBvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzcyA/PyBjb21wdXRlT3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3MoY2xhc3Nlcyk7XG5cbiAgY29uc3QgZ3JlZWR5ID0gc29sdmVXaXRoQ3JpdGljYWxQYXRoR3JlZWR5KGNsYXNzZXMsIHtcbiAgICBtYXhDbGFzc2VzUGVyUGVyaW9kLFxuICAgIHBlcmlvZFNlYXJjaFRpbWVMaW1pdE1zOiBncmVlZHlQZXJpb2RTZWFyY2hUaW1lTGltaXRNc1xuICB9KTtcblxuICBpZiAoIWdyZWVkeS5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGBHcmVlZHkgYm9vdHN0cmFwIGZhaWxlZDogJHtncmVlZHkuZXJyb3IgfHwgJ3Vua25vd24gZXJyb3InfWAsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHNvbHZlcjogJ21pcE1pblBlcmlvZHMnLFxuICAgICAgICBydW50aW1lTXM6IG5vd01zKCkgLSBzdGFydGVkQXRcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY29uc3QgZ3JlZWR5VXBwZXJCb3VuZCA9IGdyZWVkeS50b3RhbFBlcmlvZHM7XG4gIGNvbnN0IGhhc1dlZWtseUhvdXJzQ2FwID0gTnVtYmVyLmlzRmluaXRlKG1heFdlZWtseU1pbnV0ZXNQZXJQZXJpb2QpO1xuICBjb25zdCBzZWFyY2hVcHBlckJvdW5kID0gaGFzV2Vla2x5SG91cnNDYXAgPyBjbGFzc2VzLmxlbmd0aCA6IGdyZWVkeVVwcGVyQm91bmQ7XG4gIGNvbnN0IGhhc1BlbmFsdHlPYmplY3RpdmUgPVxuICAgIEFycmF5LmlzQXJyYXkob3B0aW9uUGVuYWx0eUJ5Q2xhc3MpXG4gICAgJiYgb3B0aW9uUGVuYWx0eUJ5Q2xhc3Muc29tZSgocGVuYWx0aWVzKSA9PiBwZW5hbHRpZXMuc29tZSgodmFsdWUpID0+IHZhbHVlICE9PSAwKSk7XG4gIGNvbnN0IGluY2x1ZGVVcHBlckJvdW5kSW5TZWFyY2ggPSBoYXNXZWVrbHlIb3Vyc0NhcCB8fCBoYXNQZW5hbHR5T2JqZWN0aXZlO1xuXG4gIGNvbnN0IGNvbmZsaWN0TWF0cml4ID0gYnVpbGRDb25mbGljdE1hdHJpeChjbGFzc2VzKTtcbiAgY29uc3QgY29uZmxpY3RQYWlycyA9IGJ1aWxkQ29uZmxpY3RQYWlycyhjbGFzc2VzLCBjb25mbGljdE1hdHJpeCk7XG4gIGNvbnN0IGdscGsgPSBnZXRHbHBrKCk7XG5cbiAgY29uc3QgaG9yaXpvbkNoZWNrcyA9IFtdO1xuICBsZXQgZmFsbGJhY2tGZWFzaWJsZSA9IG51bGw7XG4gIGlmICghaGFzV2Vla2x5SG91cnNDYXAgJiYgIWhhc1BlbmFsdHlPYmplY3RpdmUpIHtcbiAgICBmYWxsYmFja0ZlYXNpYmxlID0ge1xuICAgICAgYXNzaWdubWVudHM6IGdyZWVkeS5hc3NpZ25tZW50cyxcbiAgICAgIHRvdGFsUGVyaW9kczogZ3JlZWR5LnRvdGFsUGVyaW9kc1xuICAgIH07XG4gIH1cblxuICBjb25zdCBob3Jpem9uRW5kID0gaW5jbHVkZVVwcGVyQm91bmRJblNlYXJjaCA/IHNlYXJjaFVwcGVyQm91bmQgOiBzZWFyY2hVcHBlckJvdW5kIC0gMTtcbiAgZm9yIChsZXQgaG9yaXpvbiA9IGxvd2VyQm91bmQ7IGhvcml6b24gPD0gaG9yaXpvbkVuZDsgaG9yaXpvbiArPSAxKSB7XG4gICAgY29uc3QgZWxhcHNlZCA9IG5vd01zKCkgLSBzdGFydGVkQXQ7XG4gICAgY29uc3QgcmVtYWluaW5nTXMgPSB0aW1lb3V0TXMgLSBlbGFwc2VkO1xuXG4gICAgaWYgKHJlbWFpbmluZ01zIDw9IDApIHtcbiAgICAgIGlmICghZmFsbGJhY2tGZWFzaWJsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnTUlQIHNvbHZlciB0aW1lZCBvdXQgYmVmb3JlIGZpbmRpbmcgYSBmZWFzaWJsZSBzY2hlZHVsZScsXG4gICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgICAgICBydW50aW1lTXM6IG5vd01zKCkgLSBzdGFydGVkQXQsXG4gICAgICAgICAgICBsb3dlckJvdW5kLFxuICAgICAgICAgICAgdXBwZXJCb3VuZDogc2VhcmNoVXBwZXJCb3VuZCxcbiAgICAgICAgICAgIGdyZWVkeVVwcGVyQm91bmQsXG4gICAgICAgICAgICBob3Jpem9uQ2hlY2tzLFxuICAgICAgICAgICAgdW5yZXNvbHZlZEhvcml6b25zOiBbaG9yaXpvbl1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGFzc2lnbm1lbnRzOiBmYWxsYmFja0ZlYXNpYmxlLmFzc2lnbm1lbnRzLFxuICAgICAgICB0b3RhbFBlcmlvZHM6IGZhbGxiYWNrRmVhc2libGUudG90YWxQZXJpb2RzLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgICAgcnVudGltZU1zOiBub3dNcygpIC0gc3RhcnRlZEF0LFxuICAgICAgICAgIG9wdGltYWxpdHk6ICdmZWFzaWJsZV9ub3RfcHJvdmVuJyxcbiAgICAgICAgICBsb3dlckJvdW5kLFxuICAgICAgICAgIHVwcGVyQm91bmQ6IHNlYXJjaFVwcGVyQm91bmQsXG4gICAgICAgICAgZ3JlZWR5VXBwZXJCb3VuZCxcbiAgICAgICAgICBob3Jpem9uQ2hlY2tzLFxuICAgICAgICAgIHVucmVzb2x2ZWRIb3Jpem9uczogW2hvcml6b25dXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2sgPSBzb2x2ZUZlYXNpYmlsaXR5Rm9ySG9yaXpvbih7XG4gICAgICBnbHBrLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIGdyYXBoLFxuICAgICAgY29uZmxpY3RQYWlycyxcbiAgICAgIGhvcml6b24sXG4gICAgICBtYXhDbGFzc2VzUGVyUGVyaW9kLFxuICAgICAgbWF4V2Vla2x5TWludXRlc1BlclBlcmlvZCxcbiAgICAgIG9wdGlvblBlbmFsdHlCeUNsYXNzLFxuICAgICAgb3B0aW9uV2Vla2x5TWludXRlc0J5Q2xhc3M6IHdlZWtseU1pbnV0ZXNCeUNsYXNzLFxuICAgICAgdGltZUxpbWl0TXM6IHJlbWFpbmluZ01zXG4gICAgfSk7XG5cbiAgICBob3Jpem9uQ2hlY2tzLnB1c2goe1xuICAgICAgaG9yaXpvbixcbiAgICAgIHN0YXR1czogY2hlY2suc3RhdHVzLFxuICAgICAgcnVudGltZU1zOiBjaGVjay5ydW50aW1lTXMsXG4gICAgICBjb25zdHJhaW50c0NvdW50OiBjaGVjay5jb25zdHJhaW50c0NvdW50LFxuICAgICAgdmFyaWFibGVzQ291bnQ6IGNoZWNrLnZhcmlhYmxlc0NvdW50LFxuICAgICAgcmF3U3RhdHVzOiBjaGVjay5yYXdTdGF0dXNcbiAgICB9KTtcblxuICAgIGlmIChjaGVjay5zdGF0dXMgPT09ICdmZWFzaWJsZScpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGFzc2lnbm1lbnRzOiBjaGVjay5hc3NpZ25tZW50cyxcbiAgICAgICAgdG90YWxQZXJpb2RzOiBob3Jpem9uLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgICAgcnVudGltZU1zOiBub3dNcygpIC0gc3RhcnRlZEF0LFxuICAgICAgICAgIG9wdGltYWxpdHk6ICdvcHRpbWFsX3Byb3ZlbicsXG4gICAgICAgICAgbG93ZXJCb3VuZCxcbiAgICAgICAgICB1cHBlckJvdW5kOiBzZWFyY2hVcHBlckJvdW5kLFxuICAgICAgICAgIGdyZWVkeVVwcGVyQm91bmQsXG4gICAgICAgICAgaG9yaXpvbkNoZWNrc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChjaGVjay5zdGF0dXMgPT09ICd1bmtub3duJykge1xuICAgICAgaWYgKCFmYWxsYmFja0ZlYXNpYmxlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGBNSVAgc29sdmVyIHJldHVybmVkIHVua25vd24gc3RhdHVzIGF0IGhvcml6b24gJHtob3Jpem9ufWAsXG4gICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgICAgICBydW50aW1lTXM6IG5vd01zKCkgLSBzdGFydGVkQXQsXG4gICAgICAgICAgICBsb3dlckJvdW5kLFxuICAgICAgICAgICAgdXBwZXJCb3VuZDogc2VhcmNoVXBwZXJCb3VuZCxcbiAgICAgICAgICAgIGdyZWVkeVVwcGVyQm91bmQsXG4gICAgICAgICAgICBob3Jpem9uQ2hlY2tzLFxuICAgICAgICAgICAgdW5yZXNvbHZlZEhvcml6b25zOiBbaG9yaXpvbl1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGFzc2lnbm1lbnRzOiBmYWxsYmFja0ZlYXNpYmxlLmFzc2lnbm1lbnRzLFxuICAgICAgICB0b3RhbFBlcmlvZHM6IGZhbGxiYWNrRmVhc2libGUudG90YWxQZXJpb2RzLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgICAgcnVudGltZU1zOiBub3dNcygpIC0gc3RhcnRlZEF0LFxuICAgICAgICAgIG9wdGltYWxpdHk6ICdmZWFzaWJsZV9ub3RfcHJvdmVuJyxcbiAgICAgICAgICBsb3dlckJvdW5kLFxuICAgICAgICAgIHVwcGVyQm91bmQ6IHNlYXJjaFVwcGVyQm91bmQsXG4gICAgICAgICAgZ3JlZWR5VXBwZXJCb3VuZCxcbiAgICAgICAgICBob3Jpem9uQ2hlY2tzLFxuICAgICAgICAgIHVucmVzb2x2ZWRIb3Jpem9uczogW2hvcml6b25dXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKCFmYWxsYmFja0ZlYXNpYmxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdObyBmZWFzaWJsZSBzY2hlZHVsZSBzYXRpc2ZpZXMgdGhlIGNvbnN0cmFpbnRzJyxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgc29sdmVyOiAnbWlwTWluUGVyaW9kcycsXG4gICAgICAgIHJ1bnRpbWVNczogbm93TXMoKSAtIHN0YXJ0ZWRBdCxcbiAgICAgICAgbG93ZXJCb3VuZCxcbiAgICAgICAgdXBwZXJCb3VuZDogc2VhcmNoVXBwZXJCb3VuZCxcbiAgICAgICAgZ3JlZWR5VXBwZXJCb3VuZCxcbiAgICAgICAgaG9yaXpvbkNoZWNrc1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgYXNzaWdubWVudHM6IGZhbGxiYWNrRmVhc2libGUuYXNzaWdubWVudHMsXG4gICAgdG90YWxQZXJpb2RzOiBmYWxsYmFja0ZlYXNpYmxlLnRvdGFsUGVyaW9kcyxcbiAgICBtZXRhOiB7XG4gICAgICBzb2x2ZXI6ICdtaXBNaW5QZXJpb2RzJyxcbiAgICAgIHJ1bnRpbWVNczogbm93TXMoKSAtIHN0YXJ0ZWRBdCxcbiAgICAgIG9wdGltYWxpdHk6IGhhc1dlZWtseUhvdXJzQ2FwIHx8IGhhc1BlbmFsdHlPYmplY3RpdmUgPyAnZmVhc2libGVfbm90X3Byb3ZlbicgOiAnb3B0aW1hbF9wcm92ZW4nLFxuICAgICAgbG93ZXJCb3VuZCxcbiAgICAgIHVwcGVyQm91bmQ6IHNlYXJjaFVwcGVyQm91bmQsXG4gICAgICBncmVlZHlVcHBlckJvdW5kLFxuICAgICAgaG9yaXpvbkNoZWNrc1xuICAgIH1cbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJHTFBLIiwiZnMiLCJwYXRoIiwiY3JlYXRlUmVxdWlyZSIsImFzc2lnbm1lbnRzQXJyYXlUb09iamVjdCIsImJ1aWxkQ29uZmxpY3RNYXRyaXgiLCJidWlsZEdyYXBoIiwibm9ybWFsaXplQ2xhc3NlcyIsInNvbHZlV2l0aENyaXRpY2FsUGF0aEdyZWVkeSIsImNhY2hlZEdscGsiLCJyZXF1aXJlIiwidXJsIiwibm93TXMiLCJnbG9iYWxUaGlzIiwicGVyZm9ybWFuY2UiLCJub3ciLCJEYXRlIiwiZ2V0R2xwayIsIndhc21CaW5hcnkiLCJjd2QiLCJwcm9jZXNzIiwiY2FuZGlkYXRlV2FzbVBhdGhzIiwiam9pbiIsInJlc29sdmVkUGF0aCIsInJlc29sdmUiLCJwdXNoIiwid2FzbVBhdGgiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIlVpbnQ4QXJyYXkiLCJzdGF0dXNUb0xhYmVsIiwiZ2xwayIsInN0YXR1cyIsIkdMUF9PUFQiLCJHTFBfRkVBUyIsIkdMUF9OT0ZFQVMiLCJHTFBfSU5GRUFTIiwiR0xQX1VOREVGIiwiR0xQX1VOQk5EIiwiY29tcHV0ZU9wdGlvbldlZWtseU1pbnV0ZXNCeUNsYXNzIiwiY2xhc3NlcyIsIm1hcCIsImNscyIsInNjaGVkdWxlT3B0aW9ucyIsIm9wdGlvbiIsImJsb2NrcyIsInJlZHVjZSIsInRvdGFsIiwiYmxvY2siLCJlbmQiLCJzdGFydCIsImJ1aWxkQ29uZmxpY3RQYWlycyIsImNvbmZsaWN0TWF0cml4IiwicGFpcnMiLCJjbGFzc0EiLCJsZW5ndGgiLCJvcHRpb25BIiwiY2xhc3NCIiwib3B0aW9uQiIsInNvbHZlRmVhc2liaWxpdHlGb3JIb3Jpem9uIiwiZ3JhcGgiLCJjb25mbGljdFBhaXJzIiwiaG9yaXpvbiIsIm1heENsYXNzZXNQZXJQZXJpb2QiLCJtYXhXZWVrbHlNaW51dGVzUGVyUGVyaW9kIiwib3B0aW9uUGVuYWx0eUJ5Q2xhc3MiLCJvcHRpb25XZWVrbHlNaW51dGVzQnlDbGFzcyIsInRpbWVMaW1pdE1zIiwicGVyaW9kQm91bmRzIiwicm9vdERlcHRoIiwiZWFybGllc3QiLCJjbGFzc0luZGV4IiwibGF0ZXN0IiwidGFpbERlcHRoIiwic29tZSIsImJvdW5kIiwic29sdmVkIiwicnVudGltZU1zIiwiY29uc3RyYWludHNDb3VudCIsInZhcmlhYmxlc0NvdW50Iiwib2JqZWN0aXZlVmFycyIsImJpbmFyaWVzIiwiY2xhc3NWYXJpYWJsZXMiLCJBcnJheSIsImZyb20iLCJjbGFzc09wdGlvblBlcmlvZFZhcmlhYmxlcyIsInZhcmlhYmxlc0J5UGVyaW9kIiwiZmlsbCIsIm9wdGlvbkluZGV4IiwicGVyaW9kIiwibmFtZSIsImNvZWYiLCJzdWJqZWN0VG8iLCJjb25zdHJhaW50SWQiLCJ2YXJzIiwiZW50cnkiLCJibmRzIiwidHlwZSIsIkdMUF9GWCIsImxiIiwidWIiLCJwcmVyZXFJbmRleCIsInByZXJlcUluZGljZXMiLCJHTFBfTE8iLCJwYWlyIiwidmFyQSIsInZhckIiLCJHTFBfVVAiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIndlZWtseU1pbnV0ZXMiLCJscCIsIm9iamVjdGl2ZSIsImRpcmVjdGlvbiIsIkdMUF9NSU4iLCJzb2x2ZXJSZXN1bHQiLCJzb2x2ZSIsIm1zZ2xldiIsIkdMUF9NU0dfT0ZGIiwidG1saW0iLCJNYXRoIiwibWF4IiwibWlwZ2FwIiwicmVzdWx0IiwidGltZSIsInJhd1N0YXR1cyIsInBlcmlvZEJ5Q2xhc3MiLCJvcHRpb25CeUNsYXNzIiwiYmVzdCIsInZhbHVlIiwiYXNzaWdubWVudHMiLCJzb2x2ZVdpdGhNaXBNaW5QZXJpb2RzIiwicmF3Q2xhc3NlcyIsInRpbWVvdXRNcyIsIlBPU0lUSVZFX0lORklOSVRZIiwiZ3JlZWR5UGVyaW9kU2VhcmNoVGltZUxpbWl0TXMiLCJzdGFydGVkQXQiLCJzdWNjZXNzIiwidG90YWxQZXJpb2RzIiwibWV0YSIsInNvbHZlciIsIm9wdGltYWxpdHkiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsImhvcml6b25DaGVja3MiLCJ3ZWVrbHlNaW51dGVzQnlDbGFzcyIsImdyZWVkeSIsInBlcmlvZFNlYXJjaFRpbWVMaW1pdE1zIiwiZXJyb3IiLCJncmVlZHlVcHBlckJvdW5kIiwiaGFzV2Vla2x5SG91cnNDYXAiLCJzZWFyY2hVcHBlckJvdW5kIiwiaGFzUGVuYWx0eU9iamVjdGl2ZSIsImlzQXJyYXkiLCJwZW5hbHRpZXMiLCJpbmNsdWRlVXBwZXJCb3VuZEluU2VhcmNoIiwiZmFsbGJhY2tGZWFzaWJsZSIsImhvcml6b25FbmQiLCJlbGFwc2VkIiwicmVtYWluaW5nTXMiLCJ1bnJlc29sdmVkSG9yaXpvbnMiLCJjaGVjayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../src/lib/algorithm/solvers/mipMinPeriods.js\n");

/***/ }),

/***/ "(rsc)/../src/lib/algorithm/validate.js":
/*!****************************************!*\
  !*** ../src/lib/algorithm/validate.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validatePlan: () => (/* binding */ validatePlan)\n/* harmony export */ });\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model.js */ \"(rsc)/../src/lib/algorithm/model.js\");\n\nfunction validatePlan(rawClasses, plan, { requireAllClasses = true } = {}) {\n    const classes = (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.normalizeClasses)(rawClasses);\n    const conflictMatrix = (0,_model_js__WEBPACK_IMPORTED_MODULE_0__.buildConflictMatrix)(classes);\n    const violations = [];\n    const classById = new Map(classes.map((cls, index)=>[\n            cls.id,\n            {\n                cls,\n                index\n            }\n        ]));\n    const assignmentEntries = Object.entries(plan?.assignments || {});\n    const periodByClass = Array(classes.length).fill(null);\n    const optionByClass = Array(classes.length).fill(null);\n    for (const [classIdRaw, assignment] of assignmentEntries){\n        const classId = Number(classIdRaw);\n        if (!classById.has(classId)) {\n            violations.push({\n                type: 'UNKNOWN_CLASS',\n                classId\n            });\n            continue;\n        }\n        if (!assignment || typeof assignment !== 'object') {\n            violations.push({\n                type: 'INVALID_ASSIGNMENT',\n                classId\n            });\n            continue;\n        }\n        const { index, cls } = classById.get(classId);\n        const period = assignment.period;\n        const optionIndex = assignment.optionIndex;\n        if (!Number.isInteger(period) || period < 1) {\n            violations.push({\n                type: 'INVALID_PERIOD',\n                classId,\n                period\n            });\n            continue;\n        }\n        if (!Number.isInteger(optionIndex) || optionIndex < 0 || optionIndex >= cls.scheduleOptions.length) {\n            violations.push({\n                type: 'INVALID_OPTION',\n                classId,\n                optionIndex\n            });\n            continue;\n        }\n        if (periodByClass[index] !== null) {\n            violations.push({\n                type: 'DUPLICATE_ASSIGNMENT',\n                classId\n            });\n            continue;\n        }\n        periodByClass[index] = period;\n        optionByClass[index] = optionIndex;\n    }\n    if (requireAllClasses) {\n        classes.forEach((cls, index)=>{\n            if (periodByClass[index] === null) {\n                violations.push({\n                    type: 'MISSING_CLASS',\n                    classId: cls.id\n                });\n            }\n        });\n    }\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        const period = periodByClass[classIndex];\n        if (period === null) {\n            continue;\n        }\n        for (const prereqId of classes[classIndex].prerequisites){\n            const prereqIndex = classById.get(prereqId)?.index;\n            if (prereqIndex === undefined) {\n                violations.push({\n                    type: 'UNKNOWN_PREREQUISITE',\n                    classId: classes[classIndex].id,\n                    prerequisiteId: prereqId\n                });\n                continue;\n            }\n            const prereqPeriod = periodByClass[prereqIndex];\n            if (prereqPeriod === null) {\n                violations.push({\n                    type: 'MISSING_PREREQUISITE_ASSIGNMENT',\n                    classId: classes[classIndex].id,\n                    prerequisiteId: prereqId\n                });\n            } else if (prereqPeriod >= period) {\n                violations.push({\n                    type: 'PREREQUISITE_ORDER',\n                    classId: classes[classIndex].id,\n                    prerequisiteId: prereqId,\n                    classPeriod: period,\n                    prerequisitePeriod: prereqPeriod\n                });\n            }\n        }\n    }\n    const byPeriod = new Map();\n    for(let classIndex = 0; classIndex < classes.length; classIndex += 1){\n        const period = periodByClass[classIndex];\n        if (period === null) {\n            continue;\n        }\n        if (!byPeriod.has(period)) {\n            byPeriod.set(period, []);\n        }\n        byPeriod.get(period).push(classIndex);\n    }\n    for (const [period, classIndices] of byPeriod.entries()){\n        for(let i = 0; i < classIndices.length; i += 1){\n            const classA = classIndices[i];\n            const optionA = optionByClass[classA];\n            for(let j = i + 1; j < classIndices.length; j += 1){\n                const classB = classIndices[j];\n                const optionB = optionByClass[classB];\n                if (conflictMatrix[classA][optionA][classB][optionB]) {\n                    violations.push({\n                        type: 'TIME_CONFLICT',\n                        period,\n                        classAId: classes[classA].id,\n                        classBId: classes[classB].id,\n                        optionA,\n                        optionB\n                    });\n                }\n            }\n        }\n    }\n    const totalPeriods = plan?.totalPeriods;\n    if (totalPeriods !== undefined && Number.isInteger(totalPeriods)) {\n        const maxPeriod = Math.max(0, ...periodByClass.filter((value)=>value !== null));\n        if (totalPeriods !== maxPeriod) {\n            violations.push({\n                type: 'PERIOD_COUNT_MISMATCH',\n                expected: maxPeriod,\n                actual: totalPeriods\n            });\n        }\n    }\n    return {\n        valid: violations.length === 0,\n        violations\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBRXJDLElBQUssSUFBSUUsSUFBSUgsSUFBSSxHQUFHRyxJQUFJSixhQUFhM0IsTUFBTSxFQUFFK0IsS0FBSyxFQUFHO2dCQUNuRCxNQUFNQyxTQUFTTCxZQUFZLENBQUNJLEVBQUU7Z0JBQzlCLE1BQU1FLFVBQVUvQixhQUFhLENBQUM4QixPQUFPO2dCQUVyQyxJQUFJOUMsY0FBYyxDQUFDMkMsT0FBTyxDQUFDQyxRQUFRLENBQUNFLE9BQU8sQ0FBQ0MsUUFBUSxFQUFFO29CQUNwRDlDLFdBQVdxQixJQUFJLENBQUM7d0JBQ2RDLE1BQU07d0JBQ05FO3dCQUNBdUIsVUFBVWpELE9BQU8sQ0FBQzRDLE9BQU8sQ0FBQ3BDLEVBQUU7d0JBQzVCMEMsVUFBVWxELE9BQU8sQ0FBQytDLE9BQU8sQ0FBQ3ZDLEVBQUU7d0JBQzVCcUM7d0JBQ0FHO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsTUFBTUcsZUFBZXJELE1BQU1xRDtJQUMzQixJQUFJQSxpQkFBaUJoQixhQUFhZCxPQUFPTyxTQUFTLENBQUN1QixlQUFlO1FBQ2hFLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUcsQ0FBQyxNQUFNekMsY0FBYzBDLE1BQU0sQ0FBQyxDQUFDQyxRQUFVQSxVQUFVO1FBQzNFLElBQUlMLGlCQUFpQkMsV0FBVztZQUM5QmxELFdBQVdxQixJQUFJLENBQUM7Z0JBQUVDLE1BQU07Z0JBQXlCaUMsVUFBVUw7Z0JBQVdNLFFBQVFQO1lBQWE7UUFDN0Y7SUFDRjtJQUVBLE9BQU87UUFDTFEsT0FBT3pELFdBQVdhLE1BQU0sS0FBSztRQUM3QmI7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9zYW0vZGV2L2ZhY3Uvc2NoZWR1bGUvcGxhbmlmaWNhZG9yLWhvcmFyaW9zL3NyYy9saWIvYWxnb3JpdGhtL3ZhbGlkYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkQ29uZmxpY3RNYXRyaXgsIG5vcm1hbGl6ZUNsYXNzZXMgfSBmcm9tICcuL21vZGVsLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGxhbihyYXdDbGFzc2VzLCBwbGFuLCB7IHJlcXVpcmVBbGxDbGFzc2VzID0gdHJ1ZSB9ID0ge30pIHtcbiAgY29uc3QgY2xhc3NlcyA9IG5vcm1hbGl6ZUNsYXNzZXMocmF3Q2xhc3Nlcyk7XG4gIGNvbnN0IGNvbmZsaWN0TWF0cml4ID0gYnVpbGRDb25mbGljdE1hdHJpeChjbGFzc2VzKTtcblxuICBjb25zdCB2aW9sYXRpb25zID0gW107XG4gIGNvbnN0IGNsYXNzQnlJZCA9IG5ldyBNYXAoY2xhc3Nlcy5tYXAoKGNscywgaW5kZXgpID0+IFtjbHMuaWQsIHsgY2xzLCBpbmRleCB9XSkpO1xuXG4gIGNvbnN0IGFzc2lnbm1lbnRFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocGxhbj8uYXNzaWdubWVudHMgfHwge30pO1xuICBjb25zdCBwZXJpb2RCeUNsYXNzID0gQXJyYXkoY2xhc3Nlcy5sZW5ndGgpLmZpbGwobnVsbCk7XG4gIGNvbnN0IG9wdGlvbkJ5Q2xhc3MgPSBBcnJheShjbGFzc2VzLmxlbmd0aCkuZmlsbChudWxsKTtcblxuICBmb3IgKGNvbnN0IFtjbGFzc0lkUmF3LCBhc3NpZ25tZW50XSBvZiBhc3NpZ25tZW50RW50cmllcykge1xuICAgIGNvbnN0IGNsYXNzSWQgPSBOdW1iZXIoY2xhc3NJZFJhdyk7XG4gICAgaWYgKCFjbGFzc0J5SWQuaGFzKGNsYXNzSWQpKSB7XG4gICAgICB2aW9sYXRpb25zLnB1c2goeyB0eXBlOiAnVU5LTk9XTl9DTEFTUycsIGNsYXNzSWQgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIWFzc2lnbm1lbnQgfHwgdHlwZW9mIGFzc2lnbm1lbnQgIT09ICdvYmplY3QnKSB7XG4gICAgICB2aW9sYXRpb25zLnB1c2goeyB0eXBlOiAnSU5WQUxJRF9BU1NJR05NRU5UJywgY2xhc3NJZCB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5kZXgsIGNscyB9ID0gY2xhc3NCeUlkLmdldChjbGFzc0lkKTtcbiAgICBjb25zdCBwZXJpb2QgPSBhc3NpZ25tZW50LnBlcmlvZDtcbiAgICBjb25zdCBvcHRpb25JbmRleCA9IGFzc2lnbm1lbnQub3B0aW9uSW5kZXg7XG5cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocGVyaW9kKSB8fCBwZXJpb2QgPCAxKSB7XG4gICAgICB2aW9sYXRpb25zLnB1c2goeyB0eXBlOiAnSU5WQUxJRF9QRVJJT0QnLCBjbGFzc0lkLCBwZXJpb2QgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob3B0aW9uSW5kZXgpIHx8IG9wdGlvbkluZGV4IDwgMCB8fCBvcHRpb25JbmRleCA+PSBjbHMuc2NoZWR1bGVPcHRpb25zLmxlbmd0aCkge1xuICAgICAgdmlvbGF0aW9ucy5wdXNoKHsgdHlwZTogJ0lOVkFMSURfT1BUSU9OJywgY2xhc3NJZCwgb3B0aW9uSW5kZXggfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAocGVyaW9kQnlDbGFzc1tpbmRleF0gIT09IG51bGwpIHtcbiAgICAgIHZpb2xhdGlvbnMucHVzaCh7IHR5cGU6ICdEVVBMSUNBVEVfQVNTSUdOTUVOVCcsIGNsYXNzSWQgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBwZXJpb2RCeUNsYXNzW2luZGV4XSA9IHBlcmlvZDtcbiAgICBvcHRpb25CeUNsYXNzW2luZGV4XSA9IG9wdGlvbkluZGV4O1xuICB9XG5cbiAgaWYgKHJlcXVpcmVBbGxDbGFzc2VzKSB7XG4gICAgY2xhc3Nlcy5mb3JFYWNoKChjbHMsIGluZGV4KSA9PiB7XG4gICAgICBpZiAocGVyaW9kQnlDbGFzc1tpbmRleF0gPT09IG51bGwpIHtcbiAgICAgICAgdmlvbGF0aW9ucy5wdXNoKHsgdHlwZTogJ01JU1NJTkdfQ0xBU1MnLCBjbGFzc0lkOiBjbHMuaWQgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGxldCBjbGFzc0luZGV4ID0gMDsgY2xhc3NJbmRleCA8IGNsYXNzZXMubGVuZ3RoOyBjbGFzc0luZGV4ICs9IDEpIHtcbiAgICBjb25zdCBwZXJpb2QgPSBwZXJpb2RCeUNsYXNzW2NsYXNzSW5kZXhdO1xuICAgIGlmIChwZXJpb2QgPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcHJlcmVxSWQgb2YgY2xhc3Nlc1tjbGFzc0luZGV4XS5wcmVyZXF1aXNpdGVzKSB7XG4gICAgICBjb25zdCBwcmVyZXFJbmRleCA9IGNsYXNzQnlJZC5nZXQocHJlcmVxSWQpPy5pbmRleDtcbiAgICAgIGlmIChwcmVyZXFJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZpb2xhdGlvbnMucHVzaCh7IHR5cGU6ICdVTktOT1dOX1BSRVJFUVVJU0lURScsIGNsYXNzSWQ6IGNsYXNzZXNbY2xhc3NJbmRleF0uaWQsIHByZXJlcXVpc2l0ZUlkOiBwcmVyZXFJZCB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByZXJlcVBlcmlvZCA9IHBlcmlvZEJ5Q2xhc3NbcHJlcmVxSW5kZXhdO1xuICAgICAgaWYgKHByZXJlcVBlcmlvZCA9PT0gbnVsbCkge1xuICAgICAgICB2aW9sYXRpb25zLnB1c2goeyB0eXBlOiAnTUlTU0lOR19QUkVSRVFVSVNJVEVfQVNTSUdOTUVOVCcsIGNsYXNzSWQ6IGNsYXNzZXNbY2xhc3NJbmRleF0uaWQsIHByZXJlcXVpc2l0ZUlkOiBwcmVyZXFJZCB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJlcmVxUGVyaW9kID49IHBlcmlvZCkge1xuICAgICAgICB2aW9sYXRpb25zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdQUkVSRVFVSVNJVEVfT1JERVInLFxuICAgICAgICAgIGNsYXNzSWQ6IGNsYXNzZXNbY2xhc3NJbmRleF0uaWQsXG4gICAgICAgICAgcHJlcmVxdWlzaXRlSWQ6IHByZXJlcUlkLFxuICAgICAgICAgIGNsYXNzUGVyaW9kOiBwZXJpb2QsXG4gICAgICAgICAgcHJlcmVxdWlzaXRlUGVyaW9kOiBwcmVyZXFQZXJpb2RcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYnlQZXJpb2QgPSBuZXcgTWFwKCk7XG4gIGZvciAobGV0IGNsYXNzSW5kZXggPSAwOyBjbGFzc0luZGV4IDwgY2xhc3Nlcy5sZW5ndGg7IGNsYXNzSW5kZXggKz0gMSkge1xuICAgIGNvbnN0IHBlcmlvZCA9IHBlcmlvZEJ5Q2xhc3NbY2xhc3NJbmRleF07XG4gICAgaWYgKHBlcmlvZCA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFieVBlcmlvZC5oYXMocGVyaW9kKSkge1xuICAgICAgYnlQZXJpb2Quc2V0KHBlcmlvZCwgW10pO1xuICAgIH1cblxuICAgIGJ5UGVyaW9kLmdldChwZXJpb2QpLnB1c2goY2xhc3NJbmRleCk7XG4gIH1cblxuICBmb3IgKGNvbnN0IFtwZXJpb2QsIGNsYXNzSW5kaWNlc10gb2YgYnlQZXJpb2QuZW50cmllcygpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc0luZGljZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGNsYXNzQSA9IGNsYXNzSW5kaWNlc1tpXTtcbiAgICAgIGNvbnN0IG9wdGlvbkEgPSBvcHRpb25CeUNsYXNzW2NsYXNzQV07XG5cbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNsYXNzSW5kaWNlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBjb25zdCBjbGFzc0IgPSBjbGFzc0luZGljZXNbal07XG4gICAgICAgIGNvbnN0IG9wdGlvbkIgPSBvcHRpb25CeUNsYXNzW2NsYXNzQl07XG5cbiAgICAgICAgaWYgKGNvbmZsaWN0TWF0cml4W2NsYXNzQV1bb3B0aW9uQV1bY2xhc3NCXVtvcHRpb25CXSkge1xuICAgICAgICAgIHZpb2xhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnVElNRV9DT05GTElDVCcsXG4gICAgICAgICAgICBwZXJpb2QsXG4gICAgICAgICAgICBjbGFzc0FJZDogY2xhc3Nlc1tjbGFzc0FdLmlkLFxuICAgICAgICAgICAgY2xhc3NCSWQ6IGNsYXNzZXNbY2xhc3NCXS5pZCxcbiAgICAgICAgICAgIG9wdGlvbkEsXG4gICAgICAgICAgICBvcHRpb25CXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB0b3RhbFBlcmlvZHMgPSBwbGFuPy50b3RhbFBlcmlvZHM7XG4gIGlmICh0b3RhbFBlcmlvZHMgIT09IHVuZGVmaW5lZCAmJiBOdW1iZXIuaXNJbnRlZ2VyKHRvdGFsUGVyaW9kcykpIHtcbiAgICBjb25zdCBtYXhQZXJpb2QgPSBNYXRoLm1heCgwLCAuLi5wZXJpb2RCeUNsYXNzLmZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9PSBudWxsKSk7XG4gICAgaWYgKHRvdGFsUGVyaW9kcyAhPT0gbWF4UGVyaW9kKSB7XG4gICAgICB2aW9sYXRpb25zLnB1c2goeyB0eXBlOiAnUEVSSU9EX0NPVU5UX01JU01BVENIJywgZXhwZWN0ZWQ6IG1heFBlcmlvZCwgYWN0dWFsOiB0b3RhbFBlcmlvZHMgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWxpZDogdmlvbGF0aW9ucy5sZW5ndGggPT09IDAsXG4gICAgdmlvbGF0aW9uc1xuICB9O1xufVxuIl0sIm5hbWVzIjpbImJ1aWxkQ29uZmxpY3RNYXRyaXgiLCJub3JtYWxpemVDbGFzc2VzIiwidmFsaWRhdGVQbGFuIiwicmF3Q2xhc3NlcyIsInBsYW4iLCJyZXF1aXJlQWxsQ2xhc3NlcyIsImNsYXNzZXMiLCJjb25mbGljdE1hdHJpeCIsInZpb2xhdGlvbnMiLCJjbGFzc0J5SWQiLCJNYXAiLCJtYXAiLCJjbHMiLCJpbmRleCIsImlkIiwiYXNzaWdubWVudEVudHJpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiYXNzaWdubWVudHMiLCJwZXJpb2RCeUNsYXNzIiwiQXJyYXkiLCJsZW5ndGgiLCJmaWxsIiwib3B0aW9uQnlDbGFzcyIsImNsYXNzSWRSYXciLCJhc3NpZ25tZW50IiwiY2xhc3NJZCIsIk51bWJlciIsImhhcyIsInB1c2giLCJ0eXBlIiwiZ2V0IiwicGVyaW9kIiwib3B0aW9uSW5kZXgiLCJpc0ludGVnZXIiLCJzY2hlZHVsZU9wdGlvbnMiLCJmb3JFYWNoIiwiY2xhc3NJbmRleCIsInByZXJlcUlkIiwicHJlcmVxdWlzaXRlcyIsInByZXJlcUluZGV4IiwidW5kZWZpbmVkIiwicHJlcmVxdWlzaXRlSWQiLCJwcmVyZXFQZXJpb2QiLCJjbGFzc1BlcmlvZCIsInByZXJlcXVpc2l0ZVBlcmlvZCIsImJ5UGVyaW9kIiwic2V0IiwiY2xhc3NJbmRpY2VzIiwiaSIsImNsYXNzQSIsIm9wdGlvbkEiLCJqIiwiY2xhc3NCIiwib3B0aW9uQiIsImNsYXNzQUlkIiwiY2xhc3NCSWQiLCJ0b3RhbFBlcmlvZHMiLCJtYXhQZXJpb2QiLCJNYXRoIiwibWF4IiwiZmlsdGVyIiwidmFsdWUiLCJleHBlY3RlZCIsImFjdHVhbCIsInZhbGlkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../src/lib/algorithm/validate.js\n");

/***/ }),

/***/ "(rsc)/./app/api/solve/route.js":
/*!********************************!*\
  !*** ./app/api/solve/route.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _src_lib_algorithm_entrypoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/lib/algorithm/entrypoint.js */ \"(rsc)/../src/lib/algorithm/entrypoint.js\");\n/* harmony import */ var _lib_curriculum_format_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/curriculum-format.js */ \"(rsc)/./lib/curriculum-format.js\");\n\n\n\nfunction enrichResultWithClasses(classes, result) {\n    const classMap = new Map(classes.map((cls)=>[\n            cls.id,\n            cls\n        ]));\n    const scheduleByPeriod = {};\n    for (const [classIdRaw, assignment] of Object.entries(result.assignments || {})){\n        const classId = Number(classIdRaw);\n        const cls = classMap.get(classId);\n        if (!cls) {\n            continue;\n        }\n        const period = assignment.period;\n        if (!scheduleByPeriod[period]) {\n            scheduleByPeriod[period] = [];\n        }\n        const option = cls.scheduleOptions?.[assignment.optionIndex] || null;\n        scheduleByPeriod[period].push({\n            classId,\n            className: cls.name,\n            optionIndex: assignment.optionIndex,\n            filteredOptionIndex: assignment.filteredOptionIndex,\n            schedule: option?.schedule || null,\n            prerequisites: cls.prerequisites || []\n        });\n    }\n    for (const period of Object.keys(scheduleByPeriod)){\n        scheduleByPeriod[period].sort((a, b)=>a.className.localeCompare(b.className, 'es'));\n    }\n    return {\n        ...result,\n        scheduleByPeriod\n    };\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const parsed = (0,_lib_curriculum_format_js__WEBPACK_IMPORTED_MODULE_2__.parseCurriculumPayload)(body?.curriculum);\n        if (parsed.classes.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'El plan de estudio no tiene materias validas.'\n            }, {\n                status: 400\n            });\n        }\n        const solverResult = (0,_src_lib_algorithm_entrypoint_js__WEBPACK_IMPORTED_MODULE_1__.solveScheduleWithConstraints)(parsed.classes, body?.constraints || {}, body?.solverOptions || {});\n        if (!solverResult.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(solverResult, {\n                status: 422\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(enrichResultWithClasses(parsed.classes, solverResult));\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : 'Unexpected server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NvbHZlL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFFZ0Q7QUFDdkI7QUFFcEUsU0FBU0csd0JBQXdCQyxPQUFPLEVBQUVDLE1BQU07SUFDOUMsTUFBTUMsV0FBVyxJQUFJQyxJQUFJSCxRQUFRSSxHQUFHLENBQUMsQ0FBQ0MsTUFBUTtZQUFDQSxJQUFJQyxFQUFFO1lBQUVEO1NBQUk7SUFDM0QsTUFBTUUsbUJBQW1CLENBQUM7SUFFMUIsS0FBSyxNQUFNLENBQUNDLFlBQVlDLFdBQVcsSUFBSUMsT0FBT0MsT0FBTyxDQUFDVixPQUFPVyxXQUFXLElBQUksQ0FBQyxHQUFJO1FBQy9FLE1BQU1DLFVBQVVDLE9BQU9OO1FBQ3ZCLE1BQU1ILE1BQU1ILFNBQVNhLEdBQUcsQ0FBQ0Y7UUFDekIsSUFBSSxDQUFDUixLQUFLO1lBQ1I7UUFDRjtRQUVBLE1BQU1XLFNBQVNQLFdBQVdPLE1BQU07UUFDaEMsSUFBSSxDQUFDVCxnQkFBZ0IsQ0FBQ1MsT0FBTyxFQUFFO1lBQzdCVCxnQkFBZ0IsQ0FBQ1MsT0FBTyxHQUFHLEVBQUU7UUFDL0I7UUFFQSxNQUFNQyxTQUFTWixJQUFJYSxlQUFlLEVBQUUsQ0FBQ1QsV0FBV1UsV0FBVyxDQUFDLElBQUk7UUFFaEVaLGdCQUFnQixDQUFDUyxPQUFPLENBQUNJLElBQUksQ0FBQztZQUM1QlA7WUFDQVEsV0FBV2hCLElBQUlpQixJQUFJO1lBQ25CSCxhQUFhVixXQUFXVSxXQUFXO1lBQ25DSSxxQkFBcUJkLFdBQVdjLG1CQUFtQjtZQUNuREMsVUFBVVAsUUFBUU8sWUFBWTtZQUM5QkMsZUFBZXBCLElBQUlvQixhQUFhLElBQUksRUFBRTtRQUN4QztJQUNGO0lBRUEsS0FBSyxNQUFNVCxVQUFVTixPQUFPZ0IsSUFBSSxDQUFDbkIsa0JBQW1CO1FBQ2xEQSxnQkFBZ0IsQ0FBQ1MsT0FBTyxDQUFDVyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsRUFBRVAsU0FBUyxDQUFDUyxhQUFhLENBQUNELEVBQUVSLFNBQVMsRUFBRTtJQUNqRjtJQUVBLE9BQU87UUFDTCxHQUFHcEIsTUFBTTtRQUNUTTtJQUNGO0FBQ0Y7QUFFTyxlQUFld0IsS0FBS0MsT0FBTztJQUNoQyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU1DLFNBQVNyQyxpRkFBc0JBLENBQUNtQyxNQUFNRztRQUU1QyxJQUFJRCxPQUFPbkMsT0FBTyxDQUFDcUMsTUFBTSxLQUFLLEdBQUc7WUFDL0IsT0FBT3pDLHFEQUFZQSxDQUFDc0MsSUFBSSxDQUN0QjtnQkFDRUksU0FBUztnQkFDVEMsT0FBTztZQUNULEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1DLGVBQWU1Qyw4RkFBNEJBLENBQUNzQyxPQUFPbkMsT0FBTyxFQUFFaUMsTUFBTVMsZUFBZSxDQUFDLEdBQUdULE1BQU1VLGlCQUFpQixDQUFDO1FBRW5ILElBQUksQ0FBQ0YsYUFBYUgsT0FBTyxFQUFFO1lBQ3pCLE9BQU8xQyxxREFBWUEsQ0FBQ3NDLElBQUksQ0FBQ08sY0FBYztnQkFBRUQsUUFBUTtZQUFJO1FBQ3ZEO1FBRUEsT0FBTzVDLHFEQUFZQSxDQUFDc0MsSUFBSSxDQUFDbkMsd0JBQXdCb0MsT0FBT25DLE9BQU8sRUFBRXlDO0lBQ25FLEVBQUUsT0FBT0YsT0FBTztRQUNkLE9BQU8zQyxxREFBWUEsQ0FBQ3NDLElBQUksQ0FDdEI7WUFDRUksU0FBUztZQUNUQyxPQUFPQSxpQkFBaUJLLFFBQVFMLE1BQU1NLE9BQU8sR0FBRztRQUNsRCxHQUNBO1lBQUVMLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9zYW0vZGV2L2ZhY3Uvc2NoZWR1bGUvcGxhbmlmaWNhZG9yLWhvcmFyaW9zL3dlYmFwcC9hcHAvYXBpL3NvbHZlL3JvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcblxuaW1wb3J0IHsgc29sdmVTY2hlZHVsZVdpdGhDb25zdHJhaW50cyB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9saWIvYWxnb3JpdGhtL2VudHJ5cG9pbnQuanMnO1xuaW1wb3J0IHsgcGFyc2VDdXJyaWN1bHVtUGF5bG9hZCB9IGZyb20gJ0AvbGliL2N1cnJpY3VsdW0tZm9ybWF0LmpzJztcblxuZnVuY3Rpb24gZW5yaWNoUmVzdWx0V2l0aENsYXNzZXMoY2xhc3NlcywgcmVzdWx0KSB7XG4gIGNvbnN0IGNsYXNzTWFwID0gbmV3IE1hcChjbGFzc2VzLm1hcCgoY2xzKSA9PiBbY2xzLmlkLCBjbHNdKSk7XG4gIGNvbnN0IHNjaGVkdWxlQnlQZXJpb2QgPSB7fTtcblxuICBmb3IgKGNvbnN0IFtjbGFzc0lkUmF3LCBhc3NpZ25tZW50XSBvZiBPYmplY3QuZW50cmllcyhyZXN1bHQuYXNzaWdubWVudHMgfHwge30pKSB7XG4gICAgY29uc3QgY2xhc3NJZCA9IE51bWJlcihjbGFzc0lkUmF3KTtcbiAgICBjb25zdCBjbHMgPSBjbGFzc01hcC5nZXQoY2xhc3NJZCk7XG4gICAgaWYgKCFjbHMpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBlcmlvZCA9IGFzc2lnbm1lbnQucGVyaW9kO1xuICAgIGlmICghc2NoZWR1bGVCeVBlcmlvZFtwZXJpb2RdKSB7XG4gICAgICBzY2hlZHVsZUJ5UGVyaW9kW3BlcmlvZF0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb24gPSBjbHMuc2NoZWR1bGVPcHRpb25zPy5bYXNzaWdubWVudC5vcHRpb25JbmRleF0gfHwgbnVsbDtcblxuICAgIHNjaGVkdWxlQnlQZXJpb2RbcGVyaW9kXS5wdXNoKHtcbiAgICAgIGNsYXNzSWQsXG4gICAgICBjbGFzc05hbWU6IGNscy5uYW1lLFxuICAgICAgb3B0aW9uSW5kZXg6IGFzc2lnbm1lbnQub3B0aW9uSW5kZXgsXG4gICAgICBmaWx0ZXJlZE9wdGlvbkluZGV4OiBhc3NpZ25tZW50LmZpbHRlcmVkT3B0aW9uSW5kZXgsXG4gICAgICBzY2hlZHVsZTogb3B0aW9uPy5zY2hlZHVsZSB8fCBudWxsLFxuICAgICAgcHJlcmVxdWlzaXRlczogY2xzLnByZXJlcXVpc2l0ZXMgfHwgW11cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAoY29uc3QgcGVyaW9kIG9mIE9iamVjdC5rZXlzKHNjaGVkdWxlQnlQZXJpb2QpKSB7XG4gICAgc2NoZWR1bGVCeVBlcmlvZFtwZXJpb2RdLnNvcnQoKGEsIGIpID0+IGEuY2xhc3NOYW1lLmxvY2FsZUNvbXBhcmUoYi5jbGFzc05hbWUsICdlcycpKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmVzdWx0LFxuICAgIHNjaGVkdWxlQnlQZXJpb2RcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUN1cnJpY3VsdW1QYXlsb2FkKGJvZHk/LmN1cnJpY3VsdW0pO1xuXG4gICAgaWYgKHBhcnNlZC5jbGFzc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdFbCBwbGFuIGRlIGVzdHVkaW8gbm8gdGllbmUgbWF0ZXJpYXMgdmFsaWRhcy4nXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBzb2x2ZXJSZXN1bHQgPSBzb2x2ZVNjaGVkdWxlV2l0aENvbnN0cmFpbnRzKHBhcnNlZC5jbGFzc2VzLCBib2R5Py5jb25zdHJhaW50cyB8fCB7fSwgYm9keT8uc29sdmVyT3B0aW9ucyB8fCB7fSk7XG5cbiAgICBpZiAoIXNvbHZlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc29sdmVyUmVzdWx0LCB7IHN0YXR1czogNDIyIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlbnJpY2hSZXN1bHRXaXRoQ2xhc3NlcyhwYXJzZWQuY2xhc3Nlcywgc29sdmVyUmVzdWx0KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1VuZXhwZWN0ZWQgc2VydmVyIGVycm9yJ1xuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzb2x2ZVNjaGVkdWxlV2l0aENvbnN0cmFpbnRzIiwicGFyc2VDdXJyaWN1bHVtUGF5bG9hZCIsImVucmljaFJlc3VsdFdpdGhDbGFzc2VzIiwiY2xhc3NlcyIsInJlc3VsdCIsImNsYXNzTWFwIiwiTWFwIiwibWFwIiwiY2xzIiwiaWQiLCJzY2hlZHVsZUJ5UGVyaW9kIiwiY2xhc3NJZFJhdyIsImFzc2lnbm1lbnQiLCJPYmplY3QiLCJlbnRyaWVzIiwiYXNzaWdubWVudHMiLCJjbGFzc0lkIiwiTnVtYmVyIiwiZ2V0IiwicGVyaW9kIiwib3B0aW9uIiwic2NoZWR1bGVPcHRpb25zIiwib3B0aW9uSW5kZXgiLCJwdXNoIiwiY2xhc3NOYW1lIiwibmFtZSIsImZpbHRlcmVkT3B0aW9uSW5kZXgiLCJzY2hlZHVsZSIsInByZXJlcXVpc2l0ZXMiLCJrZXlzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJwYXJzZWQiLCJjdXJyaWN1bHVtIiwibGVuZ3RoIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwic29sdmVyUmVzdWx0IiwiY29uc3RyYWludHMiLCJzb2x2ZXJPcHRpb25zIiwiRXJyb3IiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/solve/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/curriculum-format.js":
/*!**********************************!*\
  !*** ./lib/curriculum-format.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FORMAT_VERSION: () => (/* binding */ FORMAT_VERSION),\n/* harmony export */   createEmptyCurriculumEnvelope: () => (/* binding */ createEmptyCurriculumEnvelope),\n/* harmony export */   parseCurriculumPayload: () => (/* binding */ parseCurriculumPayload),\n/* harmony export */   serializeCurriculumEnvelope: () => (/* binding */ serializeCurriculumEnvelope)\n/* harmony export */ });\nconst FORMAT_VERSION = 'schedule-curriculum-v1';\nfunction toNumber(value) {\n    const parsed = Number(value);\n    return Number.isFinite(parsed) ? parsed : null;\n}\nfunction normalizeScheduleBlock(block) {\n    if (!block || typeof block !== 'object') {\n        return null;\n    }\n    if (typeof block.day !== 'string' || typeof block.startTime !== 'string' || typeof block.endTime !== 'string') {\n        return null;\n    }\n    return {\n        day: block.day,\n        startTime: block.startTime,\n        endTime: block.endTime\n    };\n}\nfunction normalizeScheduleOption(option) {\n    if (!option || typeof option !== 'object') {\n        return null;\n    }\n    let schedule = [];\n    if (Array.isArray(option.schedule)) {\n        schedule = option.schedule.map(normalizeScheduleBlock).filter(Boolean);\n    } else if (Array.isArray(option.days) && option.startTime && option.endTime) {\n        schedule = option.days.map((day)=>normalizeScheduleBlock({\n                day,\n                startTime: option.startTime,\n                endTime: option.endTime\n            })).filter(Boolean);\n    }\n    if (schedule.length === 0) {\n        return null;\n    }\n    return {\n        schedule\n    };\n}\nfunction normalizeClass(cls) {\n    if (!cls || typeof cls !== 'object') {\n        return null;\n    }\n    const id = toNumber(cls.id);\n    if (!Number.isInteger(id)) {\n        return null;\n    }\n    const name = typeof cls.name === 'string' && cls.name.trim() ? cls.name.trim() : `Materia ${id}`;\n    const prerequisites = Array.isArray(cls.prerequisites) ? cls.prerequisites.map(toNumber).filter((value)=>Number.isInteger(value)) : [];\n    const scheduleOptions = Array.isArray(cls.scheduleOptions) ? cls.scheduleOptions.map(normalizeScheduleOption).filter(Boolean) : [];\n    if (scheduleOptions.length === 0) {\n        return null;\n    }\n    return {\n        id,\n        name,\n        hours: Number.isFinite(cls.hours) ? Number(cls.hours) : null,\n        prerequisites,\n        scheduleOptions\n    };\n}\nfunction parseCurriculumPayload(payload) {\n    const envelope = {\n        formatVersion: FORMAT_VERSION,\n        metadata: {\n            id: 'plan-personalizado',\n            name: 'Plan de estudio personalizado',\n            institution: '',\n            degree: '',\n            updatedAt: new Date().toISOString()\n        },\n        classes: []\n    };\n    if (Array.isArray(payload)) {\n        envelope.classes = payload.map(normalizeClass).filter(Boolean);\n        return envelope;\n    }\n    if (!payload || typeof payload !== 'object') {\n        return envelope;\n    }\n    const sourceClasses = Array.isArray(payload.classes) ? payload.classes : Array.isArray(payload.curriculum) ? payload.curriculum : [];\n    const metadata = payload.metadata && typeof payload.metadata === 'object' ? payload.metadata : {};\n    envelope.formatVersion = typeof payload.formatVersion === 'string' ? payload.formatVersion : FORMAT_VERSION;\n    envelope.metadata = {\n        id: typeof metadata.id === 'string' && metadata.id.trim() ? metadata.id.trim() : envelope.metadata.id,\n        name: typeof metadata.name === 'string' && metadata.name.trim() ? metadata.name.trim() : envelope.metadata.name,\n        institution: typeof metadata.institution === 'string' ? metadata.institution : '',\n        degree: typeof metadata.degree === 'string' ? metadata.degree : '',\n        updatedAt: typeof metadata.updatedAt === 'string' ? metadata.updatedAt : envelope.metadata.updatedAt\n    };\n    envelope.classes = sourceClasses.map(normalizeClass).filter(Boolean);\n    return envelope;\n}\nfunction serializeCurriculumEnvelope(envelope) {\n    const parsed = parseCurriculumPayload(envelope);\n    return {\n        formatVersion: FORMAT_VERSION,\n        metadata: {\n            ...parsed.metadata,\n            updatedAt: new Date().toISOString()\n        },\n        classes: parsed.classes.map((cls)=>({\n                id: cls.id,\n                name: cls.name,\n                hours: cls.hours,\n                prerequisites: cls.prerequisites,\n                scheduleOptions: cls.scheduleOptions.map((option)=>({\n                        schedule: option.schedule\n                    }))\n            }))\n    };\n}\nfunction createEmptyCurriculumEnvelope() {\n    return {\n        formatVersion: FORMAT_VERSION,\n        metadata: {\n            id: 'plan-personalizado',\n            name: 'Plan de estudio personalizado',\n            institution: '',\n            degree: '',\n            updatedAt: new Date().toISOString()\n        },\n        classes: []\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdILFNBQVNHLFNBQVMsR0FBR0wsU0FBU0UsUUFBUSxDQUFDRyxTQUFTO0lBQ3RHO0lBQ0FMLFNBQVNRLE9BQU8sR0FBR0MsY0FBY3pCLEdBQUcsQ0FBQ0ssZ0JBQWdCSixNQUFNLENBQUNDO0lBRTVELE9BQU9jO0FBQ1Q7QUFFTyxTQUFTVyw0QkFBNEJYLFFBQVE7SUFDbEQsTUFBTTdCLFNBQVMyQix1QkFBdUJFO0lBRXRDLE9BQU87UUFDTEMsZUFBZWpDO1FBQ2ZrQyxVQUFVO1lBQ1IsR0FBRy9CLE9BQU8rQixRQUFRO1lBQ2xCRyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDbkM7UUFDQUMsU0FBU3JDLE9BQU9xQyxPQUFPLENBQUN4QixHQUFHLENBQUMsQ0FBQ00sTUFBUztnQkFDcENDLElBQUlELElBQUlDLEVBQUU7Z0JBQ1ZFLE1BQU1ILElBQUlHLElBQUk7Z0JBQ2RJLE9BQU9QLElBQUlPLEtBQUs7Z0JBQ2hCRixlQUFlTCxJQUFJSyxhQUFhO2dCQUNoQ0MsaUJBQWlCTixJQUFJTSxlQUFlLENBQUNaLEdBQUcsQ0FBQyxDQUFDSixTQUFZO3dCQUFFQyxVQUFVRCxPQUFPQyxRQUFRO29CQUFDO1lBQ3BGO0lBQ0Y7QUFDRjtBQUVPLFNBQVMrQjtJQUNkLE9BQU87UUFDTFgsZUFBZWpDO1FBQ2ZrQyxVQUFVO1lBQ1JYLElBQUk7WUFDSkUsTUFBTTtZQUNOVSxhQUFhO1lBQ2JDLFFBQVE7WUFDUkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1FBQ25DO1FBQ0FDLFNBQVMsRUFBRTtJQUNiO0FBQ0Y7QUFFMEIiLCJzb3VyY2VzIjpbIi9ob21lL3NhbS9kZXYvZmFjdS9zY2hlZHVsZS9wbGFuaWZpY2Fkb3ItaG9yYXJpb3Mvd2ViYXBwL2xpYi9jdXJyaWN1bHVtLWZvcm1hdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBGT1JNQVRfVkVSU0lPTiA9ICdzY2hlZHVsZS1jdXJyaWN1bHVtLXYxJztcblxuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgY29uc3QgcGFyc2VkID0gTnVtYmVyKHZhbHVlKTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShwYXJzZWQpID8gcGFyc2VkIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2NoZWR1bGVCbG9jayhibG9jaykge1xuICBpZiAoIWJsb2NrIHx8IHR5cGVvZiBibG9jayAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYmxvY2suZGF5ICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgYmxvY2suc3RhcnRUaW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgYmxvY2suZW5kVGltZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGF5OiBibG9jay5kYXksXG4gICAgc3RhcnRUaW1lOiBibG9jay5zdGFydFRpbWUsXG4gICAgZW5kVGltZTogYmxvY2suZW5kVGltZVxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTY2hlZHVsZU9wdGlvbihvcHRpb24pIHtcbiAgaWYgKCFvcHRpb24gfHwgdHlwZW9mIG9wdGlvbiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxldCBzY2hlZHVsZSA9IFtdO1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb24uc2NoZWR1bGUpKSB7XG4gICAgc2NoZWR1bGUgPSBvcHRpb24uc2NoZWR1bGUubWFwKG5vcm1hbGl6ZVNjaGVkdWxlQmxvY2spLmZpbHRlcihCb29sZWFuKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbi5kYXlzKSAmJiBvcHRpb24uc3RhcnRUaW1lICYmIG9wdGlvbi5lbmRUaW1lKSB7XG4gICAgc2NoZWR1bGUgPSBvcHRpb24uZGF5c1xuICAgICAgLm1hcCgoZGF5KSA9PiBub3JtYWxpemVTY2hlZHVsZUJsb2NrKHsgZGF5LCBzdGFydFRpbWU6IG9wdGlvbi5zdGFydFRpbWUsIGVuZFRpbWU6IG9wdGlvbi5lbmRUaW1lIH0pKVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgfVxuXG4gIGlmIChzY2hlZHVsZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7IHNjaGVkdWxlIH07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKGNscykge1xuICBpZiAoIWNscyB8fCB0eXBlb2YgY2xzICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgaWQgPSB0b051bWJlcihjbHMuaWQpO1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIoaWQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBuYW1lID0gdHlwZW9mIGNscy5uYW1lID09PSAnc3RyaW5nJyAmJiBjbHMubmFtZS50cmltKCkgPyBjbHMubmFtZS50cmltKCkgOiBgTWF0ZXJpYSAke2lkfWA7XG4gIGNvbnN0IHByZXJlcXVpc2l0ZXMgPSBBcnJheS5pc0FycmF5KGNscy5wcmVyZXF1aXNpdGVzKVxuICAgID8gY2xzLnByZXJlcXVpc2l0ZXMubWFwKHRvTnVtYmVyKS5maWx0ZXIoKHZhbHVlKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSlcbiAgICA6IFtdO1xuXG4gIGNvbnN0IHNjaGVkdWxlT3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoY2xzLnNjaGVkdWxlT3B0aW9ucylcbiAgICA/IGNscy5zY2hlZHVsZU9wdGlvbnMubWFwKG5vcm1hbGl6ZVNjaGVkdWxlT3B0aW9uKS5maWx0ZXIoQm9vbGVhbilcbiAgICA6IFtdO1xuXG4gIGlmIChzY2hlZHVsZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlkLFxuICAgIG5hbWUsXG4gICAgaG91cnM6IE51bWJlci5pc0Zpbml0ZShjbHMuaG91cnMpID8gTnVtYmVyKGNscy5ob3VycykgOiBudWxsLFxuICAgIHByZXJlcXVpc2l0ZXMsXG4gICAgc2NoZWR1bGVPcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUN1cnJpY3VsdW1QYXlsb2FkKHBheWxvYWQpIHtcbiAgY29uc3QgZW52ZWxvcGUgPSB7XG4gICAgZm9ybWF0VmVyc2lvbjogRk9STUFUX1ZFUlNJT04sXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIGlkOiAncGxhbi1wZXJzb25hbGl6YWRvJyxcbiAgICAgIG5hbWU6ICdQbGFuIGRlIGVzdHVkaW8gcGVyc29uYWxpemFkbycsXG4gICAgICBpbnN0aXR1dGlvbjogJycsXG4gICAgICBkZWdyZWU6ICcnLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9LFxuICAgIGNsYXNzZXM6IFtdXG4gIH07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcbiAgICBlbnZlbG9wZS5jbGFzc2VzID0gcGF5bG9hZC5tYXAobm9ybWFsaXplQ2xhc3MpLmZpbHRlcihCb29sZWFuKTtcbiAgICByZXR1cm4gZW52ZWxvcGU7XG4gIH1cblxuICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGVudmVsb3BlO1xuICB9XG5cbiAgY29uc3Qgc291cmNlQ2xhc3NlcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZC5jbGFzc2VzKVxuICAgID8gcGF5bG9hZC5jbGFzc2VzXG4gICAgOiBBcnJheS5pc0FycmF5KHBheWxvYWQuY3VycmljdWx1bSlcbiAgICAgID8gcGF5bG9hZC5jdXJyaWN1bHVtXG4gICAgICA6IFtdO1xuXG4gIGNvbnN0IG1ldGFkYXRhID0gcGF5bG9hZC5tZXRhZGF0YSAmJiB0eXBlb2YgcGF5bG9hZC5tZXRhZGF0YSA9PT0gJ29iamVjdCcgPyBwYXlsb2FkLm1ldGFkYXRhIDoge307XG5cbiAgZW52ZWxvcGUuZm9ybWF0VmVyc2lvbiA9IHR5cGVvZiBwYXlsb2FkLmZvcm1hdFZlcnNpb24gPT09ICdzdHJpbmcnID8gcGF5bG9hZC5mb3JtYXRWZXJzaW9uIDogRk9STUFUX1ZFUlNJT047XG4gIGVudmVsb3BlLm1ldGFkYXRhID0ge1xuICAgIGlkOiB0eXBlb2YgbWV0YWRhdGEuaWQgPT09ICdzdHJpbmcnICYmIG1ldGFkYXRhLmlkLnRyaW0oKSA/IG1ldGFkYXRhLmlkLnRyaW0oKSA6IGVudmVsb3BlLm1ldGFkYXRhLmlkLFxuICAgIG5hbWU6IHR5cGVvZiBtZXRhZGF0YS5uYW1lID09PSAnc3RyaW5nJyAmJiBtZXRhZGF0YS5uYW1lLnRyaW0oKSA/IG1ldGFkYXRhLm5hbWUudHJpbSgpIDogZW52ZWxvcGUubWV0YWRhdGEubmFtZSxcbiAgICBpbnN0aXR1dGlvbjogdHlwZW9mIG1ldGFkYXRhLmluc3RpdHV0aW9uID09PSAnc3RyaW5nJyA/IG1ldGFkYXRhLmluc3RpdHV0aW9uIDogJycsXG4gICAgZGVncmVlOiB0eXBlb2YgbWV0YWRhdGEuZGVncmVlID09PSAnc3RyaW5nJyA/IG1ldGFkYXRhLmRlZ3JlZSA6ICcnLFxuICAgIHVwZGF0ZWRBdDogdHlwZW9mIG1ldGFkYXRhLnVwZGF0ZWRBdCA9PT0gJ3N0cmluZycgPyBtZXRhZGF0YS51cGRhdGVkQXQgOiBlbnZlbG9wZS5tZXRhZGF0YS51cGRhdGVkQXRcbiAgfTtcbiAgZW52ZWxvcGUuY2xhc3NlcyA9IHNvdXJjZUNsYXNzZXMubWFwKG5vcm1hbGl6ZUNsYXNzKS5maWx0ZXIoQm9vbGVhbik7XG5cbiAgcmV0dXJuIGVudmVsb3BlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQ3VycmljdWx1bUVudmVsb3BlKGVudmVsb3BlKSB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlQ3VycmljdWx1bVBheWxvYWQoZW52ZWxvcGUpO1xuXG4gIHJldHVybiB7XG4gICAgZm9ybWF0VmVyc2lvbjogRk9STUFUX1ZFUlNJT04sXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIC4uLnBhcnNlZC5tZXRhZGF0YSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSxcbiAgICBjbGFzc2VzOiBwYXJzZWQuY2xhc3Nlcy5tYXAoKGNscykgPT4gKHtcbiAgICAgIGlkOiBjbHMuaWQsXG4gICAgICBuYW1lOiBjbHMubmFtZSxcbiAgICAgIGhvdXJzOiBjbHMuaG91cnMsXG4gICAgICBwcmVyZXF1aXNpdGVzOiBjbHMucHJlcmVxdWlzaXRlcyxcbiAgICAgIHNjaGVkdWxlT3B0aW9uczogY2xzLnNjaGVkdWxlT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gKHsgc2NoZWR1bGU6IG9wdGlvbi5zY2hlZHVsZSB9KSlcbiAgICB9KSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5Q3VycmljdWx1bUVudmVsb3BlKCkge1xuICByZXR1cm4ge1xuICAgIGZvcm1hdFZlcnNpb246IEZPUk1BVF9WRVJTSU9OLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICBpZDogJ3BsYW4tcGVyc29uYWxpemFkbycsXG4gICAgICBuYW1lOiAnUGxhbiBkZSBlc3R1ZGlvIHBlcnNvbmFsaXphZG8nLFxuICAgICAgaW5zdGl0dXRpb246ICcnLFxuICAgICAgZGVncmVlOiAnJyxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSxcbiAgICBjbGFzc2VzOiBbXVxuICB9O1xufVxuXG5leHBvcnQgeyBGT1JNQVRfVkVSU0lPTiB9O1xuIl0sIm5hbWVzIjpbIkZPUk1BVF9WRVJTSU9OIiwidG9OdW1iZXIiLCJ2YWx1ZSIsInBhcnNlZCIsIk51bWJlciIsImlzRmluaXRlIiwibm9ybWFsaXplU2NoZWR1bGVCbG9jayIsImJsb2NrIiwiZGF5Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsIm5vcm1hbGl6ZVNjaGVkdWxlT3B0aW9uIiwib3B0aW9uIiwic2NoZWR1bGUiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZGF5cyIsImxlbmd0aCIsIm5vcm1hbGl6ZUNsYXNzIiwiY2xzIiwiaWQiLCJpc0ludGVnZXIiLCJuYW1lIiwidHJpbSIsInByZXJlcXVpc2l0ZXMiLCJzY2hlZHVsZU9wdGlvbnMiLCJob3VycyIsInBhcnNlQ3VycmljdWx1bVBheWxvYWQiLCJwYXlsb2FkIiwiZW52ZWxvcGUiLCJmb3JtYXRWZXJzaW9uIiwibWV0YWRhdGEiLCJpbnN0aXR1dGlvbiIsImRlZ3JlZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNsYXNzZXMiLCJzb3VyY2VDbGFzc2VzIiwiY3VycmljdWx1bSIsInNlcmlhbGl6ZUN1cnJpY3VsdW1FbnZlbG9wZSIsImNyZWF0ZUVtcHR5Q3VycmljdWx1bUVudmVsb3BlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/curriculum-format.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsolve%2Froute&page=%2Fapi%2Fsolve%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsolve%2Froute.js&appDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsolve%2Froute&page=%2Fapi%2Fsolve%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsolve%2Froute.js&appDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_sam_dev_facu_schedule_planificador_horarios_webapp_app_api_solve_route_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/solve/route.js */ \"(rsc)/./app/api/solve/route.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/solve/route\",\n        pathname: \"/api/solve\",\n        filename: \"route\",\n        bundlePath: \"app/api/solve/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/home/sam/dev/facu/schedule/planificador-horarios/webapp/app/api/solve/route.js\",\n    nextConfigOutput,\n    userland: _home_sam_dev_facu_schedule_planificador_horarios_webapp_app_api_solve_route_js__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/solve/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzb2x2ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc29sdmUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzb2x2ZSUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGc2FtJTJGZGV2JTJGZmFjdSUyRnNjaGVkdWxlJTJGcGxhbmlmaWNhZG9yLWhvcmFyaW9zJTJGd2ViYXBwJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGc2FtJTJGZGV2JTJGZmFjdSUyRnNjaGVkdWxlJTJGcGxhbmlmaWNhZG9yLWhvcmFyaW9zJTJGd2ViYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQzBDO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRDtBQUNBO0FBQ0Es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Q2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvc2FtL2Rldi9mYWN1L3NjaGVkdWxlL3BsYW5pZmljYWRvci1ob3Jhcmlvcy93ZWJhcHAvYXBwL2FwaS9zb2x2ZS9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc29sdmUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zb2x2ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc29sdmUvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvc2FtL2Rldi9mYWN1L3NjaGVkdWxlL3BsYW5pZmljYWRvci1ob3Jhcmlvcy93ZWJhcHAvYXBwL2FwaS9zb2x2ZS9yb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL3NvbHZlL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsolve%2Froute&page=%2Fapi%2Fsolve%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsolve%2Froute.js&appDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "glpk.js":
/*!**************************!*\
  !*** external "glpk.js" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("glpk.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:module":
/*!******************************!*\
  !*** external "node:module" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:module");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fsolve%2Froute&page=%2Fapi%2Fsolve%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsolve%2Froute.js&appDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsam%2Fdev%2Ffacu%2Fschedule%2Fplanificador-horarios%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();